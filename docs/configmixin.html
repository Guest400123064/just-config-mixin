<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>configmixin API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#49483e}.pdoc-code{background:#272822; color:#f8f8f2}.pdoc-code .c{color:#75715e}.pdoc-code .err{color:#960050; background-color:#1e0010}.pdoc-code .esc{color:#f8f8f2}.pdoc-code .g{color:#f8f8f2}.pdoc-code .k{color:#66d9ef}.pdoc-code .l{color:#ae81ff}.pdoc-code .n{color:#f8f8f2}.pdoc-code .o{color:#f92672}.pdoc-code .x{color:#f8f8f2}.pdoc-code .p{color:#f8f8f2}.pdoc-code .ch{color:#75715e}.pdoc-code .cm{color:#75715e}.pdoc-code .cp{color:#75715e}.pdoc-code .cpf{color:#75715e}.pdoc-code .c1{color:#75715e}.pdoc-code .cs{color:#75715e}.pdoc-code .gd{color:#f92672}.pdoc-code .ge{color:#f8f8f2; font-style:italic}.pdoc-code .gr{color:#f8f8f2}.pdoc-code .gh{color:#f8f8f2}.pdoc-code .gi{color:#a6e22e}.pdoc-code .go{color:#66d9ef}.pdoc-code .gp{color:#f92672; font-weight:bold}.pdoc-code .gs{color:#f8f8f2; font-weight:bold}.pdoc-code .gu{color:#75715e}.pdoc-code .gt{color:#f8f8f2}.pdoc-code .kc{color:#66d9ef}.pdoc-code .kd{color:#66d9ef}.pdoc-code .kn{color:#f92672}.pdoc-code .kp{color:#66d9ef}.pdoc-code .kr{color:#66d9ef}.pdoc-code .kt{color:#66d9ef}.pdoc-code .ld{color:#e6db74}.pdoc-code .m{color:#ae81ff}.pdoc-code .s{color:#e6db74}.pdoc-code .na{color:#a6e22e}.pdoc-code .nb{color:#f8f8f2}.pdoc-code .nc{color:#a6e22e}.pdoc-code .no{color:#66d9ef}.pdoc-code .nd{color:#a6e22e}.pdoc-code .ni{color:#f8f8f2}.pdoc-code .ne{color:#a6e22e}.pdoc-code .nf{color:#a6e22e}.pdoc-code .nl{color:#f8f8f2}.pdoc-code .nn{color:#f8f8f2}.pdoc-code .nx{color:#a6e22e}.pdoc-code .py{color:#f8f8f2}.pdoc-code .nt{color:#f92672}.pdoc-code .nv{color:#f8f8f2}.pdoc-code .ow{color:#f92672}.pdoc-code .w{color:#f8f8f2}.pdoc-code .mb{color:#ae81ff}.pdoc-code .mf{color:#ae81ff}.pdoc-code .mh{color:#ae81ff}.pdoc-code .mi{color:#ae81ff}.pdoc-code .mo{color:#ae81ff}.pdoc-code .sa{color:#e6db74}.pdoc-code .sb{color:#e6db74}.pdoc-code .sc{color:#e6db74}.pdoc-code .dl{color:#e6db74}.pdoc-code .sd{color:#e6db74}.pdoc-code .s2{color:#e6db74}.pdoc-code .se{color:#ae81ff}.pdoc-code .sh{color:#e6db74}.pdoc-code .si{color:#e6db74}.pdoc-code .sx{color:#e6db74}.pdoc-code .sr{color:#e6db74}.pdoc-code .s1{color:#e6db74}.pdoc-code .ss{color:#e6db74}.pdoc-code .bp{color:#f8f8f2}.pdoc-code .fm{color:#a6e22e}.pdoc-code .vc{color:#f8f8f2}.pdoc-code .vg{color:#f8f8f2}.pdoc-code .vi{color:#f8f8f2}.pdoc-code .vm{color:#f8f8f2}</style>
    <style>/*! theme.css */:root{--pdoc-background:#212529;}.pdoc{--text:#f7f7f7;--muted:#9d9d9d;--link:#58a6ff;--link-hover:#3989ff;--code:#333;--active:#555;--accent:#292929;--accent2:#555;--nav-hover:rgba(0, 0, 0, 0.1);--name:#77C1FF;--def:#0cdd0c;--annotation:#00c037;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>


            <h2>Contents</h2>
            <ul>
  <li><a href="#configmixin">configmixin</a>
  <ul>
    <li><a href="#features">Features</a></li>
    <li><a href="#installation">Installation</a></li>
    <li><a href="#core-use-cases">Core Use Cases</a></li>
    <li><a href="#complete-workflow">Complete Workflow</a></li>
    <li><a href="#why-configmixin">Why configmixin?</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#license">License</a></li>
  </ul></li>
</ul>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#ConfigMixin">ConfigMixin</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ConfigMixin.config_name">config_name</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConfigMixin.ignore_for_config">ignore_for_config</a>
                        </li>
                        <li>
                                <a class="variable" href="#ConfigMixin.config">config</a>
                        </li>
                        <li>
                                <a class="function" href="#ConfigMixin.save_config">save_config</a>
                        </li>
                        <li>
                                <a class="function" href="#ConfigMixin.from_config">from_config</a>
                        </li>
                        <li>
                                <a class="function" href="#ConfigMixin.apply_param_hooks">apply_param_hooks</a>
                        </li>
                        <li>
                                <a class="function" href="#ConfigMixin.config_dumps">config_dumps</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#register_to_config">register_to_config</a>
            </li>
            <li>
                    <a class="function" href="#default">default</a>
            </li>
            <li>
                    <a class="variable" href="#option">option</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
configmixin    </h1>

                        <div class="docstring"><p><a href="https://www.python.org/downloads/release/python-3100/"><img src="https://img.shields.io/badge/python-%203.10%20|%203.11%20|%203.12-blue.svg" alt="Python 3.10" /></a>
<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License: Apache 2.0" /></a>
<a href="https://github.com/Guest400123064/configmixin/actions/workflows/test.yaml"><img src="https://github.com/Guest400123064/configmixin/actions/workflows/test.yaml/badge.svg" alt="test" /></a>
<a href="https://codecov.io/gh/Guest400123064/configmixin"><img src="https://codecov.io/gh/Guest400123064/configmixin/branch/main/graph/badge.svg?token=6TG5R1AYQK" alt="codecov" /></a>
<a href="https://pypi.org/project/just-config-mixin/"><img src="https://img.shields.io/pypi/v/just-config-mixin" alt="PyPI" /></a></p>

<h1 id="configmixin">configmixin</h1>

<p>An ultra lightweight configuration management library for machine learning inspired by the Hugging Face 🤗 <a href="https://github.com/huggingface/diffusers"><code>diffusers</code></a> library. Add automatic configuration handling to any class with a simple mixin pattern. Please refer to the <a href="https://guest400123064.github.io/just-config-mixin/">documentation</a> for more details.</p>

<h2 id="features">Features</h2>

<ul>
<li>🔗 <strong>Mixin Pattern</strong>: Add config management to models, trainers, or any class</li>
<li>💾 <strong>Save/Load</strong>: Automatic JSON serialization with type preservation</li>
<li>⚡ <strong>Decorator Support</strong>: <code>@register_to_config</code> for automatic parameter registration</li>
<li>🎯 <strong>Selective Exclusion</strong>: Control which parameters are saved to config</li>
</ul>

<h2 id="installation">Installation</h2>

<p>From PyPI:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>just-config-mixin
</code></pre>
</div>

<p>If you are interested in the experimental (i.e., unstable and undertested) version, you can install it from GitHub:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/Guest400123064/configmixin.git
</code></pre>
</div>

<h2 id="core-use-cases">Core Use Cases</h2>

<h3 id="1-pytorch-model-with-configuration">1. PyTorch Model with Configuration</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">torch.nn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nn</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">configmixin</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigMixin</span><span class="p">,</span> <span class="n">register_to_config</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TransformerModel</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">,</span> <span class="n">ConfigMixin</span><span class="p">):</span>
    <span class="n">config_name</span> <span class="o">=</span> <span class="s2">&quot;model_config.json&quot;</span>

    <span class="nd">@register_to_config</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">vocab_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30000</span><span class="p">,</span>
        <span class="n">hidden_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">768</span><span class="p">,</span>
        <span class="n">num_layers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
        <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vocab_size</span> <span class="o">=</span> <span class="n">vocab_size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hidden_size</span> <span class="o">=</span> <span class="n">hidden_size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_layers</span> <span class="o">=</span> <span class="n">num_layers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dropout</span> <span class="o">=</span> <span class="n">dropout</span>

        <span class="c1"># Build model layers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">Embedding</span><span class="p">(</span><span class="n">vocab_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layers</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">ModuleList</span><span class="p">([</span>
            <span class="n">nn</span><span class="o">.</span><span class="n">TransformerEncoderLayer</span><span class="p">(</span><span class="n">hidden_size</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">batch_first</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_layers</span><span class="p">)</span>
        <span class="p">])</span>


<span class="n">model</span> <span class="o">=</span> <span class="n">TransformerModel</span><span class="p">(</span><span class="n">hidden_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">num_layers</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="2-configuration-saveload">2. Configuration Save/Load</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="c1"># Save configuration</span>
<span class="n">model</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="s2">&quot;./checkpoints/experiment_1&quot;</span><span class="p">)</span>

<span class="c1"># Load model with exact same configuration</span>
<span class="n">loaded_model</span> <span class="o">=</span> <span class="n">TransformerModel</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">save_directory</span><span class="o">=</span><span class="s2">&quot;./checkpoints/experiment_1&quot;</span><span class="p">)</span>

<span class="c1"># Or load from config dict</span>
<span class="n">config_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;vocab_size&quot;</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span> <span class="s2">&quot;hidden_size&quot;</span><span class="p">:</span> <span class="mi">512</span><span class="p">,</span> <span class="s2">&quot;num_layers&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;dropout&quot;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">}</span>
<span class="n">model_from_dict</span> <span class="o">=</span> <span class="n">TransformerModel</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config_dict</span><span class="p">)</span>

<span class="c1"># Access config as attributes</span>
<span class="nb">print</span><span class="p">(</span><span class="n">loaded_model</span><span class="o">.</span><span class="n">hidden_size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">loaded_model</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_layers</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="3-training-pipeline-with-ignored-parameters">3. Training Pipeline with Ignored Parameters</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ModelTrainer</span><span class="p">(</span><span class="n">ConfigMixin</span><span class="p">):</span>
    <span class="n">config_name</span> <span class="o">=</span> <span class="s2">&quot;trainer_config.json&quot;</span>
    <span class="n">ignore_for_config</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="s2">&quot;optimizer&quot;</span><span class="p">]</span>  <span class="c1"># Exclude runtime objects</span>

    <span class="nd">@register_to_config</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">learning_rate</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1e-4</span><span class="p">,</span>
        <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
        <span class="n">num_epochs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
        <span class="n">weight_decay</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">,</span>
        <span class="c1"># Runtime objects (ignored)</span>
        <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">optimizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="c1"># Private params (auto-ignored due to underscore)</span>
        <span class="n">_internal_state</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">learning_rate</span> <span class="o">=</span> <span class="n">learning_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_epochs</span> <span class="o">=</span> <span class="n">num_epochs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight_decay</span> <span class="o">=</span> <span class="n">weight_decay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">optimizer</span> <span class="o">=</span> <span class="n">optimizer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_internal_state</span> <span class="o">=</span> <span class="n">_internal_state</span>

<span class="c1"># Only hyperparameters are saved, not runtime objects</span>
<span class="n">trainer</span> <span class="o">=</span> <span class="n">ModelTrainer</span><span class="p">(</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">2e-4</span><span class="p">,</span>
    <span class="n">batch_size</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
    <span class="n">model</span><span class="o">=</span><span class="n">some_model</span><span class="p">,</span>
    <span class="n">optimizer</span><span class="o">=</span><span class="n">some_optimizer</span>
<span class="p">)</span>

<span class="n">trainer</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="s2">&quot;./experiments/run_001&quot;</span><span class="p">)</span>

<span class="c1"># Config only contains: learning_rate, batch_size, num_epochs, weight_decay</span>
<span class="c1"># and the runtime objects are passed via `runtime_kwargs` in `from_config()`</span>
<span class="n">trainer</span> <span class="o">=</span> <span class="n">ModelTrainer</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">save_directory</span><span class="o">=</span><span class="s2">&quot;./experiments/run_001&quot;</span><span class="p">,</span> <span class="n">runtime_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">some_model</span><span class="o">&gt;</span><span class="p">})</span>
</code></pre>
</div>

<h2 id="complete-workflow">Complete Workflow</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="c1"># Create components with configurations</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">TransformerModel</span><span class="p">(</span><span class="n">hidden_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">num_layers</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">trainer</span> <span class="o">=</span> <span class="n">ModelTrainer</span><span class="p">(</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>

<span class="c1"># Save all configurations to experiment directory</span>
<span class="n">experiment_dir</span> <span class="o">=</span> <span class="s2">&quot;./experiments/run_001&quot;</span>
<span class="n">model</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="n">experiment_dir</span><span class="p">)</span>
<span class="n">trainer</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="n">experiment_dir</span><span class="p">)</span>

<span class="c1"># Later: reproduce exact setup</span>
<span class="n">loaded_model</span> <span class="o">=</span> <span class="n">TransformerModel</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">save_directory</span><span class="o">=</span><span class="n">experiment_dir</span><span class="p">)</span>
<span class="n">loaded_trainer</span> <span class="o">=</span> <span class="n">ModelTrainer</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">save_directory</span><span class="o">=</span><span class="n">experiment_dir</span><span class="p">,</span> <span class="n">runtime_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">loaded_model</span><span class="p">})</span>
</code></pre>
</div>

<h2 id="why-configmixin">Why configmixin?</h2>

<p>Perfect for ML workflows where you need:</p>

<ul>
<li><strong>Reproducible experiments</strong> with exact parameter tracking</li>
<li><strong>Easy hyperparameter management</strong> built into your classes</li>
<li><strong>Clean separation</strong> between config and runtime state</li>
</ul>

<h2 id="contributing">Contributing</h2>

<p>Contributions welcome! Please submit a Pull Request.</p>

<h2 id="license">License</h2>

<p>Apache License 2.0 - see LICENSE file for details.</p>
</div>

                        <input id="mod-configmixin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-configmixin-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="sd">.. include:: ../../README.md</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._core</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigMixin</span><span class="p">,</span> <span class="n">register_to_config</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">._json</span><span class="w"> </span><span class="kn">import</span> <span class="n">default</span><span class="p">,</span> <span class="n">option</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.1.1a1&quot;</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>    <span class="s2">&quot;ConfigMixin&quot;</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>    <span class="s2">&quot;register_to_config&quot;</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a>    <span class="s2">&quot;default&quot;</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>    <span class="s2">&quot;option&quot;</span><span class="p">,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="ConfigMixin">
                            <input id="ConfigMixin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">

    <span class="def">class</span>
    <span class="name">ConfigMixin</span>:

                <label class="view-source-button" for="ConfigMixin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConfigMixin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConfigMixin-20"><a href="#ConfigMixin-20"><span class="linenos"> 20</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ConfigMixin</span><span class="p">:</span>
</span><span id="ConfigMixin-21"><a href="#ConfigMixin-21"><span class="linenos"> 21</span></a><span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Mixin class for automated configuration registration and IO.</span>
</span><span id="ConfigMixin-22"><a href="#ConfigMixin-22"><span class="linenos"> 22</span></a>
</span><span id="ConfigMixin-23"><a href="#ConfigMixin-23"><span class="linenos"> 23</span></a><span class="sd">    Attributes</span>
</span><span id="ConfigMixin-24"><a href="#ConfigMixin-24"><span class="linenos"> 24</span></a><span class="sd">    ----------</span>
</span><span id="ConfigMixin-25"><a href="#ConfigMixin-25"><span class="linenos"> 25</span></a><span class="sd">    config_name : str, default=None</span>
</span><span id="ConfigMixin-26"><a href="#ConfigMixin-26"><span class="linenos"> 26</span></a><span class="sd">        Class attribute that specifies the filename under which the config should be stored when calling</span>
</span><span id="ConfigMixin-27"><a href="#ConfigMixin-27"><span class="linenos"> 27</span></a><span class="sd">        `save_config`. Should be overridden by the subclass.</span>
</span><span id="ConfigMixin-28"><a href="#ConfigMixin-28"><span class="linenos"> 28</span></a><span class="sd">    ignore_for_config : list[str], default=[]</span>
</span><span id="ConfigMixin-29"><a href="#ConfigMixin-29"><span class="linenos"> 29</span></a><span class="sd">        Class attribute that specifies a list of attributes that should not be saved in the config. Should</span>
</span><span id="ConfigMixin-30"><a href="#ConfigMixin-30"><span class="linenos"> 30</span></a><span class="sd">        be overridden by the subclass.</span>
</span><span id="ConfigMixin-31"><a href="#ConfigMixin-31"><span class="linenos"> 31</span></a>
</span><span id="ConfigMixin-32"><a href="#ConfigMixin-32"><span class="linenos"> 32</span></a><span class="sd">    Examples</span>
</span><span id="ConfigMixin-33"><a href="#ConfigMixin-33"><span class="linenos"> 33</span></a><span class="sd">    --------</span>
</span><span id="ConfigMixin-34"><a href="#ConfigMixin-34"><span class="linenos"> 34</span></a><span class="sd">    In this example, we have a model with 3 arguments:</span>
</span><span id="ConfigMixin-35"><a href="#ConfigMixin-35"><span class="linenos"> 35</span></a>
</span><span id="ConfigMixin-36"><a href="#ConfigMixin-36"><span class="linenos"> 36</span></a><span class="sd">    - ``hidden_size``: The hidden size of the model.</span>
</span><span id="ConfigMixin-37"><a href="#ConfigMixin-37"><span class="linenos"> 37</span></a><span class="sd">    - ``_num_layers``: The number of layers in the model.</span>
</span><span id="ConfigMixin-38"><a href="#ConfigMixin-38"><span class="linenos"> 38</span></a><span class="sd">    - ``dropout``: The dropout rate of the model.</span>
</span><span id="ConfigMixin-39"><a href="#ConfigMixin-39"><span class="linenos"> 39</span></a>
</span><span id="ConfigMixin-40"><a href="#ConfigMixin-40"><span class="linenos"> 40</span></a><span class="sd">    Among the three arguments, the number of layers is implicitly ignored by the decorator because of the leading</span>
</span><span id="ConfigMixin-41"><a href="#ConfigMixin-41"><span class="linenos"> 41</span></a><span class="sd">    underscore; the ``dropout`` argument is explicitly based on the specification in ``ignore_for_config`` class</span>
</span><span id="ConfigMixin-42"><a href="#ConfigMixin-42"><span class="linenos"> 42</span></a><span class="sd">    variable. The ``hidden_size`` argument is registered to the config.</span>
</span><span id="ConfigMixin-43"><a href="#ConfigMixin-43"><span class="linenos"> 43</span></a>
</span><span id="ConfigMixin-44"><a href="#ConfigMixin-44"><span class="linenos"> 44</span></a><span class="sd">    &gt;&gt;&gt; class MyModel(ConfigMixin):</span>
</span><span id="ConfigMixin-45"><a href="#ConfigMixin-45"><span class="linenos"> 45</span></a><span class="sd">    ...     config_name = &quot;my_model_config.json&quot;</span>
</span><span id="ConfigMixin-46"><a href="#ConfigMixin-46"><span class="linenos"> 46</span></a><span class="sd">    ...     ignore_for_config = [&quot;dropout&quot;]</span>
</span><span id="ConfigMixin-47"><a href="#ConfigMixin-47"><span class="linenos"> 47</span></a><span class="sd">    ...</span>
</span><span id="ConfigMixin-48"><a href="#ConfigMixin-48"><span class="linenos"> 48</span></a><span class="sd">    ...     @register_to_config</span>
</span><span id="ConfigMixin-49"><a href="#ConfigMixin-49"><span class="linenos"> 49</span></a><span class="sd">    ...     def __init__(self, hidden_size: int = 768, _num_layers: int = 12, dropout: float = 0.1):</span>
</span><span id="ConfigMixin-50"><a href="#ConfigMixin-50"><span class="linenos"> 50</span></a><span class="sd">    ...         self.hidden_size = hidden_size</span>
</span><span id="ConfigMixin-51"><a href="#ConfigMixin-51"><span class="linenos"> 51</span></a><span class="sd">    ...         self.num_layers = _num_layers</span>
</span><span id="ConfigMixin-52"><a href="#ConfigMixin-52"><span class="linenos"> 52</span></a><span class="sd">    ...         self.dropout = dropout  # This will be ignored because of the specification in `ignore_for_config`</span>
</span><span id="ConfigMixin-53"><a href="#ConfigMixin-53"><span class="linenos"> 53</span></a><span class="sd">    ...</span>
</span><span id="ConfigMixin-54"><a href="#ConfigMixin-54"><span class="linenos"> 54</span></a><span class="sd">    &gt;&gt;&gt; model = MyModel(hidden_size=1024, _num_layers=20, dropout=0.2)</span>
</span><span id="ConfigMixin-55"><a href="#ConfigMixin-55"><span class="linenos"> 55</span></a><span class="sd">    &gt;&gt;&gt; model.config</span>
</span><span id="ConfigMixin-56"><a href="#ConfigMixin-56"><span class="linenos"> 56</span></a><span class="sd">    mappingproxy({&#39;__notes__&#39;: {&#39;class_name&#39;: &#39;MyModel&#39;, &#39;using_default_values&#39;: [], &#39;args&#39;: (), &#39;kwargs&#39;: {}}, &#39;hidden_size&#39;: 1024})</span>
</span><span id="ConfigMixin-57"><a href="#ConfigMixin-57"><span class="linenos"> 57</span></a><span class="sd">    &gt;&gt;&gt; model.num_layers</span>
</span><span id="ConfigMixin-58"><a href="#ConfigMixin-58"><span class="linenos"> 58</span></a><span class="sd">    20</span>
</span><span id="ConfigMixin-59"><a href="#ConfigMixin-59"><span class="linenos"> 59</span></a><span class="sd">    &gt;&gt;&gt; model.dropout</span>
</span><span id="ConfigMixin-60"><a href="#ConfigMixin-60"><span class="linenos"> 60</span></a><span class="sd">    0.2</span>
</span><span id="ConfigMixin-61"><a href="#ConfigMixin-61"><span class="linenos"> 61</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ConfigMixin-62"><a href="#ConfigMixin-62"><span class="linenos"> 62</span></a>
</span><span id="ConfigMixin-63"><a href="#ConfigMixin-63"><span class="linenos"> 63</span></a>    <span class="n">_private_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;__notes__&quot;</span><span class="p">]</span>
</span><span id="ConfigMixin-64"><a href="#ConfigMixin-64"><span class="linenos"> 64</span></a>
</span><span id="ConfigMixin-65"><a href="#ConfigMixin-65"><span class="linenos"> 65</span></a>    <span class="n">config_name</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ConfigMixin-66"><a href="#ConfigMixin-66"><span class="linenos"> 66</span></a>    <span class="n">ignore_for_config</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ConfigMixin-67"><a href="#ConfigMixin-67"><span class="linenos"> 67</span></a>
</span><span id="ConfigMixin-68"><a href="#ConfigMixin-68"><span class="linenos"> 68</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="ConfigMixin-69"><a href="#ConfigMixin-69"><span class="linenos"> 69</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dumps</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ConfigMixin-70"><a href="#ConfigMixin-70"><span class="linenos"> 70</span></a>
</span><span id="ConfigMixin-71"><a href="#ConfigMixin-71"><span class="linenos"> 71</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="ConfigMixin-72"><a href="#ConfigMixin-72"><span class="linenos"> 72</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Create a shortcut to access the config attributes.&quot;&quot;&quot;</span>
</span><span id="ConfigMixin-73"><a href="#ConfigMixin-73"><span class="linenos"> 73</span></a>
</span><span id="ConfigMixin-74"><a href="#ConfigMixin-74"><span class="linenos"> 74</span></a>        <span class="n">is_in_config</span> <span class="o">=</span> <span class="s2">&quot;_internal_dict&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span>
</span><span id="ConfigMixin-75"><a href="#ConfigMixin-75"><span class="linenos"> 75</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_internal_dict&quot;</span><span class="p">],</span> <span class="n">name</span>
</span><span id="ConfigMixin-76"><a href="#ConfigMixin-76"><span class="linenos"> 76</span></a>        <span class="p">)</span>
</span><span id="ConfigMixin-77"><a href="#ConfigMixin-77"><span class="linenos"> 77</span></a>        <span class="n">is_attribute</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="ConfigMixin-78"><a href="#ConfigMixin-78"><span class="linenos"> 78</span></a>
</span><span id="ConfigMixin-79"><a href="#ConfigMixin-79"><span class="linenos"> 79</span></a>        <span class="k">if</span> <span class="n">is_in_config</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_attribute</span><span class="p">:</span>
</span><span id="ConfigMixin-80"><a href="#ConfigMixin-80"><span class="linenos"> 80</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_internal_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ConfigMixin-81"><a href="#ConfigMixin-81"><span class="linenos"> 81</span></a>
</span><span id="ConfigMixin-82"><a href="#ConfigMixin-82"><span class="linenos"> 82</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` object has no attribute `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">`&quot;</span>
</span><span id="ConfigMixin-83"><a href="#ConfigMixin-83"><span class="linenos"> 83</span></a>        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-84"><a href="#ConfigMixin-84"><span class="linenos"> 84</span></a>
</span><span id="ConfigMixin-85"><a href="#ConfigMixin-85"><span class="linenos"> 85</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_register_to_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin-86"><a href="#ConfigMixin-86"><span class="linenos"> 86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_internal_dict</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="ConfigMixin-87"><a href="#ConfigMixin-87"><span class="linenos"> 87</span></a>
</span><span id="ConfigMixin-88"><a href="#ConfigMixin-88"><span class="linenos"> 88</span></a>    <span class="nd">@property</span>
</span><span id="ConfigMixin-89"><a href="#ConfigMixin-89"><span class="linenos"> 89</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MappingProxyType</span><span class="p">:</span>
</span><span id="ConfigMixin-90"><a href="#ConfigMixin-90"><span class="linenos"> 90</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Returns the config of the class as a ``MappingProxyType``.</span>
</span><span id="ConfigMixin-91"><a href="#ConfigMixin-91"><span class="linenos"> 91</span></a>
</span><span id="ConfigMixin-92"><a href="#ConfigMixin-92"><span class="linenos"> 92</span></a><span class="sd">        ``MappingProxyType`` is used to mitigate unintended modifications to the config dictionary.</span>
</span><span id="ConfigMixin-93"><a href="#ConfigMixin-93"><span class="linenos"> 93</span></a><span class="sd">        Note that this method does not completely rule out the possibility of modifying the config.</span>
</span><span id="ConfigMixin-94"><a href="#ConfigMixin-94"><span class="linenos"> 94</span></a><span class="sd">        For instance, if the user access a nested dictionary or list in the config, they can still</span>
</span><span id="ConfigMixin-95"><a href="#ConfigMixin-95"><span class="linenos"> 95</span></a><span class="sd">        modify the contents after dereferencing the nested object.</span>
</span><span id="ConfigMixin-96"><a href="#ConfigMixin-96"><span class="linenos"> 96</span></a>
</span><span id="ConfigMixin-97"><a href="#ConfigMixin-97"><span class="linenos"> 97</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin-98"><a href="#ConfigMixin-98"><span class="linenos"> 98</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin-99"><a href="#ConfigMixin-99"><span class="linenos"> 99</span></a><span class="sd">        MappingProxyType</span>
</span><span id="ConfigMixin-100"><a href="#ConfigMixin-100"><span class="linenos">100</span></a><span class="sd">            The config of the class wrapped in ``MappingProxyType``.</span>
</span><span id="ConfigMixin-101"><a href="#ConfigMixin-101"><span class="linenos">101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin-102"><a href="#ConfigMixin-102"><span class="linenos">102</span></a>        <span class="k">return</span> <span class="n">MappingProxyType</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_internal_dict</span><span class="p">)</span>
</span><span id="ConfigMixin-103"><a href="#ConfigMixin-103"><span class="linenos">103</span></a>
</span><span id="ConfigMixin-104"><a href="#ConfigMixin-104"><span class="linenos">104</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">save_config</span><span class="p">(</span>
</span><span id="ConfigMixin-105"><a href="#ConfigMixin-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ConfigMixin-106"><a href="#ConfigMixin-106"><span class="linenos">106</span></a>        <span class="n">save_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PathLike</span><span class="p">,</span>
</span><span id="ConfigMixin-107"><a href="#ConfigMixin-107"><span class="linenos">107</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="ConfigMixin-108"><a href="#ConfigMixin-108"><span class="linenos">108</span></a>        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="ConfigMixin-109"><a href="#ConfigMixin-109"><span class="linenos">109</span></a>        <span class="n">default</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="n">default</span><span class="p">,</span>
</span><span id="ConfigMixin-110"><a href="#ConfigMixin-110"><span class="linenos">110</span></a>        <span class="n">option</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">option</span><span class="p">,</span>
</span><span id="ConfigMixin-111"><a href="#ConfigMixin-111"><span class="linenos">111</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ConfigMixin-112"><a href="#ConfigMixin-112"><span class="linenos">112</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Save a configuration object to the directory specified in ``save_directory``.</span>
</span><span id="ConfigMixin-113"><a href="#ConfigMixin-113"><span class="linenos">113</span></a>
</span><span id="ConfigMixin-114"><a href="#ConfigMixin-114"><span class="linenos">114</span></a><span class="sd">        The configuration is saved as a JSON file named as ``self.config_name`` in the directory</span>
</span><span id="ConfigMixin-115"><a href="#ConfigMixin-115"><span class="linenos">115</span></a><span class="sd">        specified in ``save_directory``.</span>
</span><span id="ConfigMixin-116"><a href="#ConfigMixin-116"><span class="linenos">116</span></a>
</span><span id="ConfigMixin-117"><a href="#ConfigMixin-117"><span class="linenos">117</span></a><span class="sd">        It is recommended to save the configuration in the same directory as the main</span>
</span><span id="ConfigMixin-118"><a href="#ConfigMixin-118"><span class="linenos">118</span></a><span class="sd">        objects, e.g., a model checkpoint, or other metadata files.</span>
</span><span id="ConfigMixin-119"><a href="#ConfigMixin-119"><span class="linenos">119</span></a>
</span><span id="ConfigMixin-120"><a href="#ConfigMixin-120"><span class="linenos">120</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin-121"><a href="#ConfigMixin-121"><span class="linenos">121</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin-122"><a href="#ConfigMixin-122"><span class="linenos">122</span></a><span class="sd">        save_directory : str or PathLike</span>
</span><span id="ConfigMixin-123"><a href="#ConfigMixin-123"><span class="linenos">123</span></a><span class="sd">            Directory where the configuration JSON file, named as ``self.config_name``, is saved.</span>
</span><span id="ConfigMixin-124"><a href="#ConfigMixin-124"><span class="linenos">124</span></a><span class="sd">        overwrite : bool, default=False</span>
</span><span id="ConfigMixin-125"><a href="#ConfigMixin-125"><span class="linenos">125</span></a><span class="sd">            Whether to overwrite the configuration file if it already exists.</span>
</span><span id="ConfigMixin-126"><a href="#ConfigMixin-126"><span class="linenos">126</span></a><span class="sd">        default : Callable, default=configmixin.default</span>
</span><span id="ConfigMixin-127"><a href="#ConfigMixin-127"><span class="linenos">127</span></a><span class="sd">            Same as the ``default`` argument in ``orjson.dumps``, which can be used to explicitly handle custom</span>
</span><span id="ConfigMixin-128"><a href="#ConfigMixin-128"><span class="linenos">128</span></a><span class="sd">            objects or override default serialization behaviors. Serialization can lose information such that it</span>
</span><span id="ConfigMixin-129"><a href="#ConfigMixin-129"><span class="linenos">129</span></a><span class="sd">            may not be possible to fully restore the original object without additional post-processing after</span>
</span><span id="ConfigMixin-130"><a href="#ConfigMixin-130"><span class="linenos">130</span></a><span class="sd">            deserialization.</span>
</span><span id="ConfigMixin-131"><a href="#ConfigMixin-131"><span class="linenos">131</span></a><span class="sd">        option : int, default=configmixin.option</span>
</span><span id="ConfigMixin-132"><a href="#ConfigMixin-132"><span class="linenos">132</span></a><span class="sd">            A bitwise OR of the ``orjson`` options. Please refer to the ``orjson`` documentation for more details.</span>
</span><span id="ConfigMixin-133"><a href="#ConfigMixin-133"><span class="linenos">133</span></a>
</span><span id="ConfigMixin-134"><a href="#ConfigMixin-134"><span class="linenos">134</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin-135"><a href="#ConfigMixin-135"><span class="linenos">135</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin-136"><a href="#ConfigMixin-136"><span class="linenos">136</span></a><span class="sd">        int</span>
</span><span id="ConfigMixin-137"><a href="#ConfigMixin-137"><span class="linenos">137</span></a><span class="sd">            The number of bytes written to the file.</span>
</span><span id="ConfigMixin-138"><a href="#ConfigMixin-138"><span class="linenos">138</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin-139"><a href="#ConfigMixin-139"><span class="linenos">139</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin-140"><a href="#ConfigMixin-140"><span class="linenos">140</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Make sure that </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> has defined a class attribute `config_name`.&quot;</span>
</span><span id="ConfigMixin-141"><a href="#ConfigMixin-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-142"><a href="#ConfigMixin-142"><span class="linenos">142</span></a>
</span><span id="ConfigMixin-143"><a href="#ConfigMixin-143"><span class="linenos">143</span></a>        <span class="n">dest</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">save_directory</span><span class="p">)</span>
</span><span id="ConfigMixin-144"><a href="#ConfigMixin-144"><span class="linenos">144</span></a>        <span class="k">if</span> <span class="n">dest</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="ConfigMixin-145"><a href="#ConfigMixin-145"><span class="linenos">145</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) should be a directory, not a file&quot;</span>
</span><span id="ConfigMixin-146"><a href="#ConfigMixin-146"><span class="linenos">146</span></a>            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-147"><a href="#ConfigMixin-147"><span class="linenos">147</span></a>
</span><span id="ConfigMixin-148"><a href="#ConfigMixin-148"><span class="linenos">148</span></a>        <span class="n">dest</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ConfigMixin-149"><a href="#ConfigMixin-149"><span class="linenos">149</span></a>        <span class="n">file</span> <span class="o">=</span> <span class="n">dest</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span>
</span><span id="ConfigMixin-150"><a href="#ConfigMixin-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
</span><span id="ConfigMixin-151"><a href="#ConfigMixin-151"><span class="linenos">151</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="ConfigMixin-152"><a href="#ConfigMixin-152"><span class="linenos">152</span></a>                <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) already contains a file named </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config_name</span><span class="si">}</span><span class="s2">. &quot;</span>
</span><span id="ConfigMixin-153"><a href="#ConfigMixin-153"><span class="linenos">153</span></a>                <span class="s2">&quot;Please set `overwrite=True` to overwrite the existing file.&quot;</span>
</span><span id="ConfigMixin-154"><a href="#ConfigMixin-154"><span class="linenos">154</span></a>            <span class="p">)</span>
</span><span id="ConfigMixin-155"><a href="#ConfigMixin-155"><span class="linenos">155</span></a>            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-156"><a href="#ConfigMixin-156"><span class="linenos">156</span></a>
</span><span id="ConfigMixin-157"><a href="#ConfigMixin-157"><span class="linenos">157</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
</span><span id="ConfigMixin-158"><a href="#ConfigMixin-158"><span class="linenos">158</span></a>            <span class="k">return</span> <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dumps</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">))</span>
</span><span id="ConfigMixin-159"><a href="#ConfigMixin-159"><span class="linenos">159</span></a>
</span><span id="ConfigMixin-160"><a href="#ConfigMixin-160"><span class="linenos">160</span></a>    <span class="nd">@classmethod</span>
</span><span id="ConfigMixin-161"><a href="#ConfigMixin-161"><span class="linenos">161</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span>
</span><span id="ConfigMixin-162"><a href="#ConfigMixin-162"><span class="linenos">162</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">_Self</span><span class="p">],</span>
</span><span id="ConfigMixin-163"><a href="#ConfigMixin-163"><span class="linenos">163</span></a>        <span class="n">config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ConfigMixin-164"><a href="#ConfigMixin-164"><span class="linenos">164</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="ConfigMixin-165"><a href="#ConfigMixin-165"><span class="linenos">165</span></a>        <span class="n">save_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PathLike</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ConfigMixin-166"><a href="#ConfigMixin-166"><span class="linenos">166</span></a>        <span class="n">runtime_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ConfigMixin-167"><a href="#ConfigMixin-167"><span class="linenos">167</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_Self</span><span class="p">:</span>
</span><span id="ConfigMixin-168"><a href="#ConfigMixin-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Instantiate the current class from a config dictionary.</span>
</span><span id="ConfigMixin-169"><a href="#ConfigMixin-169"><span class="linenos">169</span></a>
</span><span id="ConfigMixin-170"><a href="#ConfigMixin-170"><span class="linenos">170</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin-171"><a href="#ConfigMixin-171"><span class="linenos">171</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin-172"><a href="#ConfigMixin-172"><span class="linenos">172</span></a><span class="sd">        config : dict[str, Any], default=None</span>
</span><span id="ConfigMixin-173"><a href="#ConfigMixin-173"><span class="linenos">173</span></a><span class="sd">            A dictionary of the config parameters. If provided, the config will be loaded from the dictionary</span>
</span><span id="ConfigMixin-174"><a href="#ConfigMixin-174"><span class="linenos">174</span></a><span class="sd">            instead of the JSON file. If not provided, the config will be loaded from the JSON file.</span>
</span><span id="ConfigMixin-175"><a href="#ConfigMixin-175"><span class="linenos">175</span></a><span class="sd">        save_directory : str or PathLike, default=None</span>
</span><span id="ConfigMixin-176"><a href="#ConfigMixin-176"><span class="linenos">176</span></a><span class="sd">            Directory where the configuration JSON file, named as ``self.config_name``, is saved. Note that the</span>
</span><span id="ConfigMixin-177"><a href="#ConfigMixin-177"><span class="linenos">177</span></a><span class="sd">            ``config`` argument takes precedence over the ``save_directory`` argument.</span>
</span><span id="ConfigMixin-178"><a href="#ConfigMixin-178"><span class="linenos">178</span></a><span class="sd">        runtime_kwargs : dict[str, Any], default=None</span>
</span><span id="ConfigMixin-179"><a href="#ConfigMixin-179"><span class="linenos">179</span></a><span class="sd">            A dictionary of the runtime kwargs. These are usually non-serializable parameters that need to be</span>
</span><span id="ConfigMixin-180"><a href="#ConfigMixin-180"><span class="linenos">180</span></a><span class="sd">            determined/initialized at runtime, such as the model object of a trainer class.</span>
</span><span id="ConfigMixin-181"><a href="#ConfigMixin-181"><span class="linenos">181</span></a>
</span><span id="ConfigMixin-182"><a href="#ConfigMixin-182"><span class="linenos">182</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin-183"><a href="#ConfigMixin-183"><span class="linenos">183</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin-184"><a href="#ConfigMixin-184"><span class="linenos">184</span></a><span class="sd">        An instance of the class.</span>
</span><span id="ConfigMixin-185"><a href="#ConfigMixin-185"><span class="linenos">185</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin-186"><a href="#ConfigMixin-186"><span class="linenos">186</span></a>        <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin-187"><a href="#ConfigMixin-187"><span class="linenos">187</span></a>            <span class="k">if</span> <span class="n">save_directory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin-188"><a href="#ConfigMixin-188"><span class="linenos">188</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Either `save_directory` or `config` must be provided&quot;</span>
</span><span id="ConfigMixin-189"><a href="#ConfigMixin-189"><span class="linenos">189</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-190"><a href="#ConfigMixin-190"><span class="linenos">190</span></a>
</span><span id="ConfigMixin-191"><a href="#ConfigMixin-191"><span class="linenos">191</span></a>            <span class="n">dest</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">save_directory</span><span class="p">)</span>
</span><span id="ConfigMixin-192"><a href="#ConfigMixin-192"><span class="linenos">192</span></a>            <span class="k">if</span> <span class="n">dest</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="ConfigMixin-193"><a href="#ConfigMixin-193"><span class="linenos">193</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) should be a directory, not a file&quot;</span>
</span><span id="ConfigMixin-194"><a href="#ConfigMixin-194"><span class="linenos">194</span></a>                <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-195"><a href="#ConfigMixin-195"><span class="linenos">195</span></a>
</span><span id="ConfigMixin-196"><a href="#ConfigMixin-196"><span class="linenos">196</span></a>            <span class="n">file</span> <span class="o">=</span> <span class="n">dest</span> <span class="o">/</span> <span class="bp">cls</span><span class="o">.</span><span class="n">config_name</span>
</span><span id="ConfigMixin-197"><a href="#ConfigMixin-197"><span class="linenos">197</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="ConfigMixin-198"><a href="#ConfigMixin-198"><span class="linenos">198</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) does not contain a file named </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_name</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ConfigMixin-199"><a href="#ConfigMixin-199"><span class="linenos">199</span></a>                <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-200"><a href="#ConfigMixin-200"><span class="linenos">200</span></a>
</span><span id="ConfigMixin-201"><a href="#ConfigMixin-201"><span class="linenos">201</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
</span><span id="ConfigMixin-202"><a href="#ConfigMixin-202"><span class="linenos">202</span></a>                <span class="n">config</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="ConfigMixin-203"><a href="#ConfigMixin-203"><span class="linenos">203</span></a>
</span><span id="ConfigMixin-204"><a href="#ConfigMixin-204"><span class="linenos">204</span></a>        <span class="n">notes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__notes__&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="ConfigMixin-205"><a href="#ConfigMixin-205"><span class="linenos">205</span></a>        <span class="k">if</span> <span class="n">notes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class_name&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span>
</span><span id="ConfigMixin-206"><a href="#ConfigMixin-206"><span class="linenos">206</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Config </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_name</span><span class="si">}</span><span class="s2"> is not a config for </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="ConfigMixin-207"><a href="#ConfigMixin-207"><span class="linenos">207</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-208"><a href="#ConfigMixin-208"><span class="linenos">208</span></a>
</span><span id="ConfigMixin-209"><a href="#ConfigMixin-209"><span class="linenos">209</span></a>        <span class="n">pooled_kwargs</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">apply_param_hooks</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">config</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">runtime_kwargs</span> <span class="ow">or</span> <span class="p">{})</span>
</span><span id="ConfigMixin-210"><a href="#ConfigMixin-210"><span class="linenos">210</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_private_names</span><span class="p">:</span>
</span><span id="ConfigMixin-211"><a href="#ConfigMixin-211"><span class="linenos">211</span></a>            <span class="n">pooled_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ConfigMixin-212"><a href="#ConfigMixin-212"><span class="linenos">212</span></a>
</span><span id="ConfigMixin-213"><a href="#ConfigMixin-213"><span class="linenos">213</span></a>        <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="ConfigMixin-214"><a href="#ConfigMixin-214"><span class="linenos">214</span></a>
</span><span id="ConfigMixin-215"><a href="#ConfigMixin-215"><span class="linenos">215</span></a>        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ConfigMixin-216"><a href="#ConfigMixin-216"><span class="linenos">216</span></a>        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ConfigMixin-217"><a href="#ConfigMixin-217"><span class="linenos">217</span></a>            <span class="k">if</span> <span class="n">param</span><span class="o">.</span><span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
</span><span id="ConfigMixin-218"><a href="#ConfigMixin-218"><span class="linenos">218</span></a>                <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">POSITIONAL_ONLY</span><span class="p">,</span>
</span><span id="ConfigMixin-219"><a href="#ConfigMixin-219"><span class="linenos">219</span></a>                <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">POSITIONAL_OR_KEYWORD</span><span class="p">,</span>
</span><span id="ConfigMixin-220"><a href="#ConfigMixin-220"><span class="linenos">220</span></a>            <span class="p">}:</span>
</span><span id="ConfigMixin-221"><a href="#ConfigMixin-221"><span class="linenos">221</span></a>                <span class="k">continue</span>
</span><span id="ConfigMixin-222"><a href="#ConfigMixin-222"><span class="linenos">222</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pooled_kwargs</span><span class="p">:</span>
</span><span id="ConfigMixin-223"><a href="#ConfigMixin-223"><span class="linenos">223</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Config is missing required parameter: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="ConfigMixin-224"><a href="#ConfigMixin-224"><span class="linenos">224</span></a>                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin-225"><a href="#ConfigMixin-225"><span class="linenos">225</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pooled_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
</span><span id="ConfigMixin-226"><a href="#ConfigMixin-226"><span class="linenos">226</span></a>
</span><span id="ConfigMixin-227"><a href="#ConfigMixin-227"><span class="linenos">227</span></a>        <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">notes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="p">[]))</span>
</span><span id="ConfigMixin-228"><a href="#ConfigMixin-228"><span class="linenos">228</span></a>        <span class="n">pooled_kwargs</span> <span class="o">=</span> <span class="n">pooled_kwargs</span> <span class="o">|</span> <span class="n">notes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="ConfigMixin-229"><a href="#ConfigMixin-229"><span class="linenos">229</span></a>
</span><span id="ConfigMixin-230"><a href="#ConfigMixin-230"><span class="linenos">230</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">pooled_kwargs</span><span class="p">)</span>
</span><span id="ConfigMixin-231"><a href="#ConfigMixin-231"><span class="linenos">231</span></a>
</span><span id="ConfigMixin-232"><a href="#ConfigMixin-232"><span class="linenos">232</span></a>    <span class="nd">@classmethod</span>
</span><span id="ConfigMixin-233"><a href="#ConfigMixin-233"><span class="linenos">233</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">apply_param_hooks</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jdict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="ConfigMixin-234"><a href="#ConfigMixin-234"><span class="linenos">234</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Apply post-processing hooks to the JSON dictionary.</span>
</span><span id="ConfigMixin-235"><a href="#ConfigMixin-235"><span class="linenos">235</span></a>
</span><span id="ConfigMixin-236"><a href="#ConfigMixin-236"><span class="linenos">236</span></a><span class="sd">        ``orjson.loads`` only decode configs to primitive types, which may not be directly</span>
</span><span id="ConfigMixin-237"><a href="#ConfigMixin-237"><span class="linenos">237</span></a><span class="sd">        consumable by the class initializer. For instance, a ``dataclass`` object will be</span>
</span><span id="ConfigMixin-238"><a href="#ConfigMixin-238"><span class="linenos">238</span></a><span class="sd">        loaded as a dictionary. Therefore, this method is intended to be overridden by the</span>
</span><span id="ConfigMixin-239"><a href="#ConfigMixin-239"><span class="linenos">239</span></a><span class="sd">        subclass to perform additional post-processing on the loaded config dictionary.</span>
</span><span id="ConfigMixin-240"><a href="#ConfigMixin-240"><span class="linenos">240</span></a>
</span><span id="ConfigMixin-241"><a href="#ConfigMixin-241"><span class="linenos">241</span></a><span class="sd">        Note that, it is highly discouraged to abuse this method to deserialize complex objects</span>
</span><span id="ConfigMixin-242"><a href="#ConfigMixin-242"><span class="linenos">242</span></a><span class="sd">        and one should consider using ``runtime_kwargs`` argument of ``from_config`` instead,</span>
</span><span id="ConfigMixin-243"><a href="#ConfigMixin-243"><span class="linenos">243</span></a><span class="sd">        to explicitly pass the complex objects to the class initializer.</span>
</span><span id="ConfigMixin-244"><a href="#ConfigMixin-244"><span class="linenos">244</span></a>
</span><span id="ConfigMixin-245"><a href="#ConfigMixin-245"><span class="linenos">245</span></a><span class="sd">        By default, this method returns the input dictionary unchanged.</span>
</span><span id="ConfigMixin-246"><a href="#ConfigMixin-246"><span class="linenos">246</span></a>
</span><span id="ConfigMixin-247"><a href="#ConfigMixin-247"><span class="linenos">247</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin-248"><a href="#ConfigMixin-248"><span class="linenos">248</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin-249"><a href="#ConfigMixin-249"><span class="linenos">249</span></a><span class="sd">        jdict : dict[str, Any]</span>
</span><span id="ConfigMixin-250"><a href="#ConfigMixin-250"><span class="linenos">250</span></a><span class="sd">            The config dictionary after deserialization.</span>
</span><span id="ConfigMixin-251"><a href="#ConfigMixin-251"><span class="linenos">251</span></a>
</span><span id="ConfigMixin-252"><a href="#ConfigMixin-252"><span class="linenos">252</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin-253"><a href="#ConfigMixin-253"><span class="linenos">253</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin-254"><a href="#ConfigMixin-254"><span class="linenos">254</span></a><span class="sd">        dict[str, Any]</span>
</span><span id="ConfigMixin-255"><a href="#ConfigMixin-255"><span class="linenos">255</span></a><span class="sd">            The config dictionary after post-processing.</span>
</span><span id="ConfigMixin-256"><a href="#ConfigMixin-256"><span class="linenos">256</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin-257"><a href="#ConfigMixin-257"><span class="linenos">257</span></a>        <span class="k">return</span> <span class="n">jdict</span>
</span><span id="ConfigMixin-258"><a href="#ConfigMixin-258"><span class="linenos">258</span></a>
</span><span id="ConfigMixin-259"><a href="#ConfigMixin-259"><span class="linenos">259</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">config_dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="ConfigMixin-260"><a href="#ConfigMixin-260"><span class="linenos">260</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Serializes the configurations to a JSON string.</span>
</span><span id="ConfigMixin-261"><a href="#ConfigMixin-261"><span class="linenos">261</span></a>
</span><span id="ConfigMixin-262"><a href="#ConfigMixin-262"><span class="linenos">262</span></a><span class="sd">        In addition to the config parameters, the JSON string also includes metadata in the &#39;__notes__&#39; field such</span>
</span><span id="ConfigMixin-263"><a href="#ConfigMixin-263"><span class="linenos">263</span></a><span class="sd">        as the class name, which argument values were registered from default values, and any variable arguments.</span>
</span><span id="ConfigMixin-264"><a href="#ConfigMixin-264"><span class="linenos">264</span></a>
</span><span id="ConfigMixin-265"><a href="#ConfigMixin-265"><span class="linenos">265</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin-266"><a href="#ConfigMixin-266"><span class="linenos">266</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin-267"><a href="#ConfigMixin-267"><span class="linenos">267</span></a><span class="sd">        default : Callable, default=configmixin.default</span>
</span><span id="ConfigMixin-268"><a href="#ConfigMixin-268"><span class="linenos">268</span></a><span class="sd">            Same as the ``default`` argument in ``orjson.dumps``, which can be used to explicitly handle custom</span>
</span><span id="ConfigMixin-269"><a href="#ConfigMixin-269"><span class="linenos">269</span></a><span class="sd">            objects or override default serialization behaviors. Serialization can lose information such that it</span>
</span><span id="ConfigMixin-270"><a href="#ConfigMixin-270"><span class="linenos">270</span></a><span class="sd">            may not be possible to fully restore the original object without additional post-processing after</span>
</span><span id="ConfigMixin-271"><a href="#ConfigMixin-271"><span class="linenos">271</span></a><span class="sd">            deserialization.</span>
</span><span id="ConfigMixin-272"><a href="#ConfigMixin-272"><span class="linenos">272</span></a><span class="sd">        option : int, default=configmixin.option</span>
</span><span id="ConfigMixin-273"><a href="#ConfigMixin-273"><span class="linenos">273</span></a><span class="sd">            A bitwise OR of the ``orjson`` options. Please refer to the ``orjson`` documentation for more details.</span>
</span><span id="ConfigMixin-274"><a href="#ConfigMixin-274"><span class="linenos">274</span></a>
</span><span id="ConfigMixin-275"><a href="#ConfigMixin-275"><span class="linenos">275</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin-276"><a href="#ConfigMixin-276"><span class="linenos">276</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin-277"><a href="#ConfigMixin-277"><span class="linenos">277</span></a><span class="sd">        str</span>
</span><span id="ConfigMixin-278"><a href="#ConfigMixin-278"><span class="linenos">278</span></a><span class="sd">            String containing all the attributes that make up the configuration instance in JSON format.</span>
</span><span id="ConfigMixin-279"><a href="#ConfigMixin-279"><span class="linenos">279</span></a><span class="sd">            Note that ignored config parameters (specified via ``ignore_for_config``) are not included in</span>
</span><span id="ConfigMixin-280"><a href="#ConfigMixin-280"><span class="linenos">280</span></a><span class="sd">            the JSON string.</span>
</span><span id="ConfigMixin-281"><a href="#ConfigMixin-281"><span class="linenos">281</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin-282"><a href="#ConfigMixin-282"><span class="linenos">282</span></a>        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_internal_dict</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Mixin class for automated configuration registration and IO.</p>

<h6 id="attributes">Attributes</h6>

<ul>
<li><strong>config_name</strong> (str, default=None):
Class attribute that specifies the filename under which the config should be stored when calling
<code><a href="#ConfigMixin.save_config">save_config</a></code>. Should be overridden by the subclass.</li>
<li><strong>ignore_for_config</strong> (list[str], default=[]):
Class attribute that specifies a list of attributes that should not be saved in the config. Should
be overridden by the subclass.</li>
</ul>

<h6 id="examples">Examples</h6>

<p>In this example, we have a model with 3 arguments:</p>

<ul>
<li><code>hidden_size</code>: The hidden size of the model.</li>
<li><code>_num_layers</code>: The number of layers in the model.</li>
<li><code>dropout</code>: The dropout rate of the model.</li>
</ul>

<p>Among the three arguments, the number of layers is implicitly ignored by the decorator because of the leading
underscore; the <code>dropout</code> argument is explicitly based on the specification in <code><a href="#ConfigMixin.ignore_for_config">ignore_for_config</a></code> class
variable. The <code>hidden_size</code> argument is registered to the config.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">(</span><span class="n">ConfigMixin</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">config_name</span> <span class="o">=</span> <span class="s2">&quot;my_model_config.json&quot;</span>
<span class="gp">... </span>    <span class="n">ignore_for_config</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dropout&quot;</span><span class="p">]</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="nd">@register_to_config</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">768</span><span class="p">,</span> <span class="n">_num_layers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">hidden_size</span> <span class="o">=</span> <span class="n">hidden_size</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">num_layers</span> <span class="o">=</span> <span class="n">_num_layers</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dropout</span> <span class="o">=</span> <span class="n">dropout</span>  <span class="c1"># This will be ignored because of the specification in `ignore_for_config`</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">hidden_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">_num_layers</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">dropout</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">config</span>
<span class="go">mappingproxy({&#39;__notes__&#39;: {&#39;class_name&#39;: &#39;MyModel&#39;, &#39;using_default_values&#39;: [], &#39;args&#39;: (), &#39;kwargs&#39;: {}}, &#39;hidden_size&#39;: 1024})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">num_layers</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">dropout</span>
<span class="go">0.2</span>
</code></pre>
</div>
</div>


                            <div id="ConfigMixin.config_name" class="classattr">
                                <div class="attr variable">
            <span class="name">config_name</span>        =
<span class="default_value">None</span>


    </div>
    <a class="headerlink" href="#ConfigMixin.config_name"></a>



                            </div>
                            <div id="ConfigMixin.ignore_for_config" class="classattr">
                                <div class="attr variable">
            <span class="name">ignore_for_config</span>        =
<span class="default_value">[]</span>


    </div>
    <a class="headerlink" href="#ConfigMixin.ignore_for_config"></a>



                            </div>
                            <div id="ConfigMixin.config" class="classattr">
                                        <input id="ConfigMixin.config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">config</span><span class="annotation">: mappingproxy</span>

                <label class="view-source-button" for="ConfigMixin.config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConfigMixin.config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConfigMixin.config-88"><a href="#ConfigMixin.config-88"><span class="linenos"> 88</span></a>    <span class="nd">@property</span>
</span><span id="ConfigMixin.config-89"><a href="#ConfigMixin.config-89"><span class="linenos"> 89</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MappingProxyType</span><span class="p">:</span>
</span><span id="ConfigMixin.config-90"><a href="#ConfigMixin.config-90"><span class="linenos"> 90</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Returns the config of the class as a ``MappingProxyType``.</span>
</span><span id="ConfigMixin.config-91"><a href="#ConfigMixin.config-91"><span class="linenos"> 91</span></a>
</span><span id="ConfigMixin.config-92"><a href="#ConfigMixin.config-92"><span class="linenos"> 92</span></a><span class="sd">        ``MappingProxyType`` is used to mitigate unintended modifications to the config dictionary.</span>
</span><span id="ConfigMixin.config-93"><a href="#ConfigMixin.config-93"><span class="linenos"> 93</span></a><span class="sd">        Note that this method does not completely rule out the possibility of modifying the config.</span>
</span><span id="ConfigMixin.config-94"><a href="#ConfigMixin.config-94"><span class="linenos"> 94</span></a><span class="sd">        For instance, if the user access a nested dictionary or list in the config, they can still</span>
</span><span id="ConfigMixin.config-95"><a href="#ConfigMixin.config-95"><span class="linenos"> 95</span></a><span class="sd">        modify the contents after dereferencing the nested object.</span>
</span><span id="ConfigMixin.config-96"><a href="#ConfigMixin.config-96"><span class="linenos"> 96</span></a>
</span><span id="ConfigMixin.config-97"><a href="#ConfigMixin.config-97"><span class="linenos"> 97</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin.config-98"><a href="#ConfigMixin.config-98"><span class="linenos"> 98</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin.config-99"><a href="#ConfigMixin.config-99"><span class="linenos"> 99</span></a><span class="sd">        MappingProxyType</span>
</span><span id="ConfigMixin.config-100"><a href="#ConfigMixin.config-100"><span class="linenos">100</span></a><span class="sd">            The config of the class wrapped in ``MappingProxyType``.</span>
</span><span id="ConfigMixin.config-101"><a href="#ConfigMixin.config-101"><span class="linenos">101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin.config-102"><a href="#ConfigMixin.config-102"><span class="linenos">102</span></a>        <span class="k">return</span> <span class="n">MappingProxyType</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_internal_dict</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the config of the class as a <code>MappingProxyType</code>.</p>

<p><code>MappingProxyType</code> is used to mitigate unintended modifications to the config dictionary.
Note that this method does not completely rule out the possibility of modifying the config.
For instance, if the user access a nested dictionary or list in the config, they can still
modify the contents after dereferencing the nested object.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>MappingProxyType</strong>: The config of the class wrapped in <code>MappingProxyType</code>.</li>
</ul>
</div>


                            </div>
                            <div id="ConfigMixin.save_config" class="classattr">
                                        <input id="ConfigMixin.save_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">save_config</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">save_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">default</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">function</span> <span class="n">default</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">option</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1073</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="ConfigMixin.save_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConfigMixin.save_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConfigMixin.save_config-104"><a href="#ConfigMixin.save_config-104"><span class="linenos">104</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">save_config</span><span class="p">(</span>
</span><span id="ConfigMixin.save_config-105"><a href="#ConfigMixin.save_config-105"><span class="linenos">105</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ConfigMixin.save_config-106"><a href="#ConfigMixin.save_config-106"><span class="linenos">106</span></a>        <span class="n">save_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PathLike</span><span class="p">,</span>
</span><span id="ConfigMixin.save_config-107"><a href="#ConfigMixin.save_config-107"><span class="linenos">107</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="ConfigMixin.save_config-108"><a href="#ConfigMixin.save_config-108"><span class="linenos">108</span></a>        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="ConfigMixin.save_config-109"><a href="#ConfigMixin.save_config-109"><span class="linenos">109</span></a>        <span class="n">default</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="n">default</span><span class="p">,</span>
</span><span id="ConfigMixin.save_config-110"><a href="#ConfigMixin.save_config-110"><span class="linenos">110</span></a>        <span class="n">option</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">option</span><span class="p">,</span>
</span><span id="ConfigMixin.save_config-111"><a href="#ConfigMixin.save_config-111"><span class="linenos">111</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ConfigMixin.save_config-112"><a href="#ConfigMixin.save_config-112"><span class="linenos">112</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Save a configuration object to the directory specified in ``save_directory``.</span>
</span><span id="ConfigMixin.save_config-113"><a href="#ConfigMixin.save_config-113"><span class="linenos">113</span></a>
</span><span id="ConfigMixin.save_config-114"><a href="#ConfigMixin.save_config-114"><span class="linenos">114</span></a><span class="sd">        The configuration is saved as a JSON file named as ``self.config_name`` in the directory</span>
</span><span id="ConfigMixin.save_config-115"><a href="#ConfigMixin.save_config-115"><span class="linenos">115</span></a><span class="sd">        specified in ``save_directory``.</span>
</span><span id="ConfigMixin.save_config-116"><a href="#ConfigMixin.save_config-116"><span class="linenos">116</span></a>
</span><span id="ConfigMixin.save_config-117"><a href="#ConfigMixin.save_config-117"><span class="linenos">117</span></a><span class="sd">        It is recommended to save the configuration in the same directory as the main</span>
</span><span id="ConfigMixin.save_config-118"><a href="#ConfigMixin.save_config-118"><span class="linenos">118</span></a><span class="sd">        objects, e.g., a model checkpoint, or other metadata files.</span>
</span><span id="ConfigMixin.save_config-119"><a href="#ConfigMixin.save_config-119"><span class="linenos">119</span></a>
</span><span id="ConfigMixin.save_config-120"><a href="#ConfigMixin.save_config-120"><span class="linenos">120</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin.save_config-121"><a href="#ConfigMixin.save_config-121"><span class="linenos">121</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin.save_config-122"><a href="#ConfigMixin.save_config-122"><span class="linenos">122</span></a><span class="sd">        save_directory : str or PathLike</span>
</span><span id="ConfigMixin.save_config-123"><a href="#ConfigMixin.save_config-123"><span class="linenos">123</span></a><span class="sd">            Directory where the configuration JSON file, named as ``self.config_name``, is saved.</span>
</span><span id="ConfigMixin.save_config-124"><a href="#ConfigMixin.save_config-124"><span class="linenos">124</span></a><span class="sd">        overwrite : bool, default=False</span>
</span><span id="ConfigMixin.save_config-125"><a href="#ConfigMixin.save_config-125"><span class="linenos">125</span></a><span class="sd">            Whether to overwrite the configuration file if it already exists.</span>
</span><span id="ConfigMixin.save_config-126"><a href="#ConfigMixin.save_config-126"><span class="linenos">126</span></a><span class="sd">        default : Callable, default=configmixin.default</span>
</span><span id="ConfigMixin.save_config-127"><a href="#ConfigMixin.save_config-127"><span class="linenos">127</span></a><span class="sd">            Same as the ``default`` argument in ``orjson.dumps``, which can be used to explicitly handle custom</span>
</span><span id="ConfigMixin.save_config-128"><a href="#ConfigMixin.save_config-128"><span class="linenos">128</span></a><span class="sd">            objects or override default serialization behaviors. Serialization can lose information such that it</span>
</span><span id="ConfigMixin.save_config-129"><a href="#ConfigMixin.save_config-129"><span class="linenos">129</span></a><span class="sd">            may not be possible to fully restore the original object without additional post-processing after</span>
</span><span id="ConfigMixin.save_config-130"><a href="#ConfigMixin.save_config-130"><span class="linenos">130</span></a><span class="sd">            deserialization.</span>
</span><span id="ConfigMixin.save_config-131"><a href="#ConfigMixin.save_config-131"><span class="linenos">131</span></a><span class="sd">        option : int, default=configmixin.option</span>
</span><span id="ConfigMixin.save_config-132"><a href="#ConfigMixin.save_config-132"><span class="linenos">132</span></a><span class="sd">            A bitwise OR of the ``orjson`` options. Please refer to the ``orjson`` documentation for more details.</span>
</span><span id="ConfigMixin.save_config-133"><a href="#ConfigMixin.save_config-133"><span class="linenos">133</span></a>
</span><span id="ConfigMixin.save_config-134"><a href="#ConfigMixin.save_config-134"><span class="linenos">134</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin.save_config-135"><a href="#ConfigMixin.save_config-135"><span class="linenos">135</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin.save_config-136"><a href="#ConfigMixin.save_config-136"><span class="linenos">136</span></a><span class="sd">        int</span>
</span><span id="ConfigMixin.save_config-137"><a href="#ConfigMixin.save_config-137"><span class="linenos">137</span></a><span class="sd">            The number of bytes written to the file.</span>
</span><span id="ConfigMixin.save_config-138"><a href="#ConfigMixin.save_config-138"><span class="linenos">138</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin.save_config-139"><a href="#ConfigMixin.save_config-139"><span class="linenos">139</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin.save_config-140"><a href="#ConfigMixin.save_config-140"><span class="linenos">140</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Make sure that </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> has defined a class attribute `config_name`.&quot;</span>
</span><span id="ConfigMixin.save_config-141"><a href="#ConfigMixin.save_config-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.save_config-142"><a href="#ConfigMixin.save_config-142"><span class="linenos">142</span></a>
</span><span id="ConfigMixin.save_config-143"><a href="#ConfigMixin.save_config-143"><span class="linenos">143</span></a>        <span class="n">dest</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">save_directory</span><span class="p">)</span>
</span><span id="ConfigMixin.save_config-144"><a href="#ConfigMixin.save_config-144"><span class="linenos">144</span></a>        <span class="k">if</span> <span class="n">dest</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="ConfigMixin.save_config-145"><a href="#ConfigMixin.save_config-145"><span class="linenos">145</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) should be a directory, not a file&quot;</span>
</span><span id="ConfigMixin.save_config-146"><a href="#ConfigMixin.save_config-146"><span class="linenos">146</span></a>            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.save_config-147"><a href="#ConfigMixin.save_config-147"><span class="linenos">147</span></a>
</span><span id="ConfigMixin.save_config-148"><a href="#ConfigMixin.save_config-148"><span class="linenos">148</span></a>        <span class="n">dest</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ConfigMixin.save_config-149"><a href="#ConfigMixin.save_config-149"><span class="linenos">149</span></a>        <span class="n">file</span> <span class="o">=</span> <span class="n">dest</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span>
</span><span id="ConfigMixin.save_config-150"><a href="#ConfigMixin.save_config-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="n">file</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">overwrite</span><span class="p">:</span>
</span><span id="ConfigMixin.save_config-151"><a href="#ConfigMixin.save_config-151"><span class="linenos">151</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="ConfigMixin.save_config-152"><a href="#ConfigMixin.save_config-152"><span class="linenos">152</span></a>                <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) already contains a file named </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config_name</span><span class="si">}</span><span class="s2">. &quot;</span>
</span><span id="ConfigMixin.save_config-153"><a href="#ConfigMixin.save_config-153"><span class="linenos">153</span></a>                <span class="s2">&quot;Please set `overwrite=True` to overwrite the existing file.&quot;</span>
</span><span id="ConfigMixin.save_config-154"><a href="#ConfigMixin.save_config-154"><span class="linenos">154</span></a>            <span class="p">)</span>
</span><span id="ConfigMixin.save_config-155"><a href="#ConfigMixin.save_config-155"><span class="linenos">155</span></a>            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.save_config-156"><a href="#ConfigMixin.save_config-156"><span class="linenos">156</span></a>
</span><span id="ConfigMixin.save_config-157"><a href="#ConfigMixin.save_config-157"><span class="linenos">157</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
</span><span id="ConfigMixin.save_config-158"><a href="#ConfigMixin.save_config-158"><span class="linenos">158</span></a>            <span class="k">return</span> <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dumps</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Save a configuration object to the directory specified in <code>save_directory</code>.</p>

<p>The configuration is saved as a JSON file named as <code>self.config_name</code> in the directory
specified in <code>save_directory</code>.</p>

<p>It is recommended to save the configuration in the same directory as the main
objects, e.g., a model checkpoint, or other metadata files.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>save_directory</strong> (str or PathLike):
Directory where the configuration JSON file, named as <code>self.config_name</code>, is saved.</li>
<li><strong>overwrite</strong> (bool, default=False):
Whether to overwrite the configuration file if it already exists.</li>
<li><strong>default</strong> (Callable, default=configmixin<a href="#default">.default</a>):
Same as the <code><a href="#default">default</a></code> argument in <code>orjson.dumps</code>, which can be used to explicitly handle custom
objects or override default serialization behaviors. Serialization can lose information such that it
may not be possible to fully restore the original object without additional post-processing after
deserialization.</li>
<li><strong>option</strong> (int, default=configmixin<a href="#option">.option</a>):
A bitwise OR of the <code>orjson</code> options. Please refer to the <code>orjson</code> documentation for more details.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>int</strong>: The number of bytes written to the file.</li>
</ul>
</div>


                            </div>
                            <div id="ConfigMixin.from_config" class="classattr">
                                        <input id="ConfigMixin.from_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_config</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="o">~</span><span class="n">_Self</span><span class="p">]</span>,</span><span class="param">	<span class="n">config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">save_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">runtime_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">_Self</span>:</span></span>

                <label class="view-source-button" for="ConfigMixin.from_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConfigMixin.from_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConfigMixin.from_config-160"><a href="#ConfigMixin.from_config-160"><span class="linenos">160</span></a>    <span class="nd">@classmethod</span>
</span><span id="ConfigMixin.from_config-161"><a href="#ConfigMixin.from_config-161"><span class="linenos">161</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">from_config</span><span class="p">(</span>
</span><span id="ConfigMixin.from_config-162"><a href="#ConfigMixin.from_config-162"><span class="linenos">162</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">_Self</span><span class="p">],</span>
</span><span id="ConfigMixin.from_config-163"><a href="#ConfigMixin.from_config-163"><span class="linenos">163</span></a>        <span class="n">config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ConfigMixin.from_config-164"><a href="#ConfigMixin.from_config-164"><span class="linenos">164</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="ConfigMixin.from_config-165"><a href="#ConfigMixin.from_config-165"><span class="linenos">165</span></a>        <span class="n">save_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PathLike</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ConfigMixin.from_config-166"><a href="#ConfigMixin.from_config-166"><span class="linenos">166</span></a>        <span class="n">runtime_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="ConfigMixin.from_config-167"><a href="#ConfigMixin.from_config-167"><span class="linenos">167</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_Self</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-168"><a href="#ConfigMixin.from_config-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Instantiate the current class from a config dictionary.</span>
</span><span id="ConfigMixin.from_config-169"><a href="#ConfigMixin.from_config-169"><span class="linenos">169</span></a>
</span><span id="ConfigMixin.from_config-170"><a href="#ConfigMixin.from_config-170"><span class="linenos">170</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin.from_config-171"><a href="#ConfigMixin.from_config-171"><span class="linenos">171</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin.from_config-172"><a href="#ConfigMixin.from_config-172"><span class="linenos">172</span></a><span class="sd">        config : dict[str, Any], default=None</span>
</span><span id="ConfigMixin.from_config-173"><a href="#ConfigMixin.from_config-173"><span class="linenos">173</span></a><span class="sd">            A dictionary of the config parameters. If provided, the config will be loaded from the dictionary</span>
</span><span id="ConfigMixin.from_config-174"><a href="#ConfigMixin.from_config-174"><span class="linenos">174</span></a><span class="sd">            instead of the JSON file. If not provided, the config will be loaded from the JSON file.</span>
</span><span id="ConfigMixin.from_config-175"><a href="#ConfigMixin.from_config-175"><span class="linenos">175</span></a><span class="sd">        save_directory : str or PathLike, default=None</span>
</span><span id="ConfigMixin.from_config-176"><a href="#ConfigMixin.from_config-176"><span class="linenos">176</span></a><span class="sd">            Directory where the configuration JSON file, named as ``self.config_name``, is saved. Note that the</span>
</span><span id="ConfigMixin.from_config-177"><a href="#ConfigMixin.from_config-177"><span class="linenos">177</span></a><span class="sd">            ``config`` argument takes precedence over the ``save_directory`` argument.</span>
</span><span id="ConfigMixin.from_config-178"><a href="#ConfigMixin.from_config-178"><span class="linenos">178</span></a><span class="sd">        runtime_kwargs : dict[str, Any], default=None</span>
</span><span id="ConfigMixin.from_config-179"><a href="#ConfigMixin.from_config-179"><span class="linenos">179</span></a><span class="sd">            A dictionary of the runtime kwargs. These are usually non-serializable parameters that need to be</span>
</span><span id="ConfigMixin.from_config-180"><a href="#ConfigMixin.from_config-180"><span class="linenos">180</span></a><span class="sd">            determined/initialized at runtime, such as the model object of a trainer class.</span>
</span><span id="ConfigMixin.from_config-181"><a href="#ConfigMixin.from_config-181"><span class="linenos">181</span></a>
</span><span id="ConfigMixin.from_config-182"><a href="#ConfigMixin.from_config-182"><span class="linenos">182</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin.from_config-183"><a href="#ConfigMixin.from_config-183"><span class="linenos">183</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin.from_config-184"><a href="#ConfigMixin.from_config-184"><span class="linenos">184</span></a><span class="sd">        An instance of the class.</span>
</span><span id="ConfigMixin.from_config-185"><a href="#ConfigMixin.from_config-185"><span class="linenos">185</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin.from_config-186"><a href="#ConfigMixin.from_config-186"><span class="linenos">186</span></a>        <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-187"><a href="#ConfigMixin.from_config-187"><span class="linenos">187</span></a>            <span class="k">if</span> <span class="n">save_directory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-188"><a href="#ConfigMixin.from_config-188"><span class="linenos">188</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Either `save_directory` or `config` must be provided&quot;</span>
</span><span id="ConfigMixin.from_config-189"><a href="#ConfigMixin.from_config-189"><span class="linenos">189</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-190"><a href="#ConfigMixin.from_config-190"><span class="linenos">190</span></a>
</span><span id="ConfigMixin.from_config-191"><a href="#ConfigMixin.from_config-191"><span class="linenos">191</span></a>            <span class="n">dest</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">save_directory</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-192"><a href="#ConfigMixin.from_config-192"><span class="linenos">192</span></a>            <span class="k">if</span> <span class="n">dest</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="ConfigMixin.from_config-193"><a href="#ConfigMixin.from_config-193"><span class="linenos">193</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) should be a directory, not a file&quot;</span>
</span><span id="ConfigMixin.from_config-194"><a href="#ConfigMixin.from_config-194"><span class="linenos">194</span></a>                <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-195"><a href="#ConfigMixin.from_config-195"><span class="linenos">195</span></a>
</span><span id="ConfigMixin.from_config-196"><a href="#ConfigMixin.from_config-196"><span class="linenos">196</span></a>            <span class="n">file</span> <span class="o">=</span> <span class="n">dest</span> <span class="o">/</span> <span class="bp">cls</span><span class="o">.</span><span class="n">config_name</span>
</span><span id="ConfigMixin.from_config-197"><a href="#ConfigMixin.from_config-197"><span class="linenos">197</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
</span><span id="ConfigMixin.from_config-198"><a href="#ConfigMixin.from_config-198"><span class="linenos">198</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Provided path (</span><span class="si">{</span><span class="n">save_directory</span><span class="si">}</span><span class="s2">) does not contain a file named </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_name</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="ConfigMixin.from_config-199"><a href="#ConfigMixin.from_config-199"><span class="linenos">199</span></a>                <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-200"><a href="#ConfigMixin.from_config-200"><span class="linenos">200</span></a>
</span><span id="ConfigMixin.from_config-201"><a href="#ConfigMixin.from_config-201"><span class="linenos">201</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-202"><a href="#ConfigMixin.from_config-202"><span class="linenos">202</span></a>                <span class="n">config</span> <span class="o">=</span> <span class="n">orjson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="ConfigMixin.from_config-203"><a href="#ConfigMixin.from_config-203"><span class="linenos">203</span></a>
</span><span id="ConfigMixin.from_config-204"><a href="#ConfigMixin.from_config-204"><span class="linenos">204</span></a>        <span class="n">notes</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__notes__&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="ConfigMixin.from_config-205"><a href="#ConfigMixin.from_config-205"><span class="linenos">205</span></a>        <span class="k">if</span> <span class="n">notes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class_name&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-206"><a href="#ConfigMixin.from_config-206"><span class="linenos">206</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Config </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">config_name</span><span class="si">}</span><span class="s2"> is not a config for </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="ConfigMixin.from_config-207"><a href="#ConfigMixin.from_config-207"><span class="linenos">207</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-208"><a href="#ConfigMixin.from_config-208"><span class="linenos">208</span></a>
</span><span id="ConfigMixin.from_config-209"><a href="#ConfigMixin.from_config-209"><span class="linenos">209</span></a>        <span class="n">pooled_kwargs</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">apply_param_hooks</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">config</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">runtime_kwargs</span> <span class="ow">or</span> <span class="p">{})</span>
</span><span id="ConfigMixin.from_config-210"><a href="#ConfigMixin.from_config-210"><span class="linenos">210</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_private_names</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-211"><a href="#ConfigMixin.from_config-211"><span class="linenos">211</span></a>            <span class="n">pooled_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-212"><a href="#ConfigMixin.from_config-212"><span class="linenos">212</span></a>
</span><span id="ConfigMixin.from_config-213"><a href="#ConfigMixin.from_config-213"><span class="linenos">213</span></a>        <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-214"><a href="#ConfigMixin.from_config-214"><span class="linenos">214</span></a>
</span><span id="ConfigMixin.from_config-215"><a href="#ConfigMixin.from_config-215"><span class="linenos">215</span></a>        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ConfigMixin.from_config-216"><a href="#ConfigMixin.from_config-216"><span class="linenos">216</span></a>        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ConfigMixin.from_config-217"><a href="#ConfigMixin.from_config-217"><span class="linenos">217</span></a>            <span class="k">if</span> <span class="n">param</span><span class="o">.</span><span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
</span><span id="ConfigMixin.from_config-218"><a href="#ConfigMixin.from_config-218"><span class="linenos">218</span></a>                <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">POSITIONAL_ONLY</span><span class="p">,</span>
</span><span id="ConfigMixin.from_config-219"><a href="#ConfigMixin.from_config-219"><span class="linenos">219</span></a>                <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">POSITIONAL_OR_KEYWORD</span><span class="p">,</span>
</span><span id="ConfigMixin.from_config-220"><a href="#ConfigMixin.from_config-220"><span class="linenos">220</span></a>            <span class="p">}:</span>
</span><span id="ConfigMixin.from_config-221"><a href="#ConfigMixin.from_config-221"><span class="linenos">221</span></a>                <span class="k">continue</span>
</span><span id="ConfigMixin.from_config-222"><a href="#ConfigMixin.from_config-222"><span class="linenos">222</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pooled_kwargs</span><span class="p">:</span>
</span><span id="ConfigMixin.from_config-223"><a href="#ConfigMixin.from_config-223"><span class="linenos">223</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Config is missing required parameter: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="ConfigMixin.from_config-224"><a href="#ConfigMixin.from_config-224"><span class="linenos">224</span></a>                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="ConfigMixin.from_config-225"><a href="#ConfigMixin.from_config-225"><span class="linenos">225</span></a>            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pooled_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
</span><span id="ConfigMixin.from_config-226"><a href="#ConfigMixin.from_config-226"><span class="linenos">226</span></a>
</span><span id="ConfigMixin.from_config-227"><a href="#ConfigMixin.from_config-227"><span class="linenos">227</span></a>        <span class="n">args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">notes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="p">[]))</span>
</span><span id="ConfigMixin.from_config-228"><a href="#ConfigMixin.from_config-228"><span class="linenos">228</span></a>        <span class="n">pooled_kwargs</span> <span class="o">=</span> <span class="n">pooled_kwargs</span> <span class="o">|</span> <span class="n">notes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;kwargs&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="ConfigMixin.from_config-229"><a href="#ConfigMixin.from_config-229"><span class="linenos">229</span></a>
</span><span id="ConfigMixin.from_config-230"><a href="#ConfigMixin.from_config-230"><span class="linenos">230</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">pooled_kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Instantiate the current class from a config dictionary.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>config</strong> (dict[str, Any], default=None):
A dictionary of the config parameters. If provided, the config will be loaded from the dictionary
instead of the JSON file. If not provided, the config will be loaded from the JSON file.</li>
<li><strong>save_directory</strong> (str or PathLike, default=None):
Directory where the configuration JSON file, named as <code>self.config_name</code>, is saved. Note that the
<code><a href="#ConfigMixin.config">config</a></code> argument takes precedence over the <code>save_directory</code> argument.</li>
<li><strong>runtime_kwargs</strong> (dict[str, Any], default=None):
A dictionary of the runtime kwargs. These are usually non-serializable parameters that need to be
determined/initialized at runtime, such as the model object of a trainer class.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>An instance of the class.</strong></li>
</ul>
</div>


                            </div>
                            <div id="ConfigMixin.apply_param_hooks" class="classattr">
                                        <input id="ConfigMixin.apply_param_hooks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-classmethod">@classmethod</div>

        <span class="def">def</span>
        <span class="name">apply_param_hooks</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">jdict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="ConfigMixin.apply_param_hooks-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConfigMixin.apply_param_hooks"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConfigMixin.apply_param_hooks-232"><a href="#ConfigMixin.apply_param_hooks-232"><span class="linenos">232</span></a>    <span class="nd">@classmethod</span>
</span><span id="ConfigMixin.apply_param_hooks-233"><a href="#ConfigMixin.apply_param_hooks-233"><span class="linenos">233</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">apply_param_hooks</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jdict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="ConfigMixin.apply_param_hooks-234"><a href="#ConfigMixin.apply_param_hooks-234"><span class="linenos">234</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Apply post-processing hooks to the JSON dictionary.</span>
</span><span id="ConfigMixin.apply_param_hooks-235"><a href="#ConfigMixin.apply_param_hooks-235"><span class="linenos">235</span></a>
</span><span id="ConfigMixin.apply_param_hooks-236"><a href="#ConfigMixin.apply_param_hooks-236"><span class="linenos">236</span></a><span class="sd">        ``orjson.loads`` only decode configs to primitive types, which may not be directly</span>
</span><span id="ConfigMixin.apply_param_hooks-237"><a href="#ConfigMixin.apply_param_hooks-237"><span class="linenos">237</span></a><span class="sd">        consumable by the class initializer. For instance, a ``dataclass`` object will be</span>
</span><span id="ConfigMixin.apply_param_hooks-238"><a href="#ConfigMixin.apply_param_hooks-238"><span class="linenos">238</span></a><span class="sd">        loaded as a dictionary. Therefore, this method is intended to be overridden by the</span>
</span><span id="ConfigMixin.apply_param_hooks-239"><a href="#ConfigMixin.apply_param_hooks-239"><span class="linenos">239</span></a><span class="sd">        subclass to perform additional post-processing on the loaded config dictionary.</span>
</span><span id="ConfigMixin.apply_param_hooks-240"><a href="#ConfigMixin.apply_param_hooks-240"><span class="linenos">240</span></a>
</span><span id="ConfigMixin.apply_param_hooks-241"><a href="#ConfigMixin.apply_param_hooks-241"><span class="linenos">241</span></a><span class="sd">        Note that, it is highly discouraged to abuse this method to deserialize complex objects</span>
</span><span id="ConfigMixin.apply_param_hooks-242"><a href="#ConfigMixin.apply_param_hooks-242"><span class="linenos">242</span></a><span class="sd">        and one should consider using ``runtime_kwargs`` argument of ``from_config`` instead,</span>
</span><span id="ConfigMixin.apply_param_hooks-243"><a href="#ConfigMixin.apply_param_hooks-243"><span class="linenos">243</span></a><span class="sd">        to explicitly pass the complex objects to the class initializer.</span>
</span><span id="ConfigMixin.apply_param_hooks-244"><a href="#ConfigMixin.apply_param_hooks-244"><span class="linenos">244</span></a>
</span><span id="ConfigMixin.apply_param_hooks-245"><a href="#ConfigMixin.apply_param_hooks-245"><span class="linenos">245</span></a><span class="sd">        By default, this method returns the input dictionary unchanged.</span>
</span><span id="ConfigMixin.apply_param_hooks-246"><a href="#ConfigMixin.apply_param_hooks-246"><span class="linenos">246</span></a>
</span><span id="ConfigMixin.apply_param_hooks-247"><a href="#ConfigMixin.apply_param_hooks-247"><span class="linenos">247</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin.apply_param_hooks-248"><a href="#ConfigMixin.apply_param_hooks-248"><span class="linenos">248</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin.apply_param_hooks-249"><a href="#ConfigMixin.apply_param_hooks-249"><span class="linenos">249</span></a><span class="sd">        jdict : dict[str, Any]</span>
</span><span id="ConfigMixin.apply_param_hooks-250"><a href="#ConfigMixin.apply_param_hooks-250"><span class="linenos">250</span></a><span class="sd">            The config dictionary after deserialization.</span>
</span><span id="ConfigMixin.apply_param_hooks-251"><a href="#ConfigMixin.apply_param_hooks-251"><span class="linenos">251</span></a>
</span><span id="ConfigMixin.apply_param_hooks-252"><a href="#ConfigMixin.apply_param_hooks-252"><span class="linenos">252</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin.apply_param_hooks-253"><a href="#ConfigMixin.apply_param_hooks-253"><span class="linenos">253</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin.apply_param_hooks-254"><a href="#ConfigMixin.apply_param_hooks-254"><span class="linenos">254</span></a><span class="sd">        dict[str, Any]</span>
</span><span id="ConfigMixin.apply_param_hooks-255"><a href="#ConfigMixin.apply_param_hooks-255"><span class="linenos">255</span></a><span class="sd">            The config dictionary after post-processing.</span>
</span><span id="ConfigMixin.apply_param_hooks-256"><a href="#ConfigMixin.apply_param_hooks-256"><span class="linenos">256</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin.apply_param_hooks-257"><a href="#ConfigMixin.apply_param_hooks-257"><span class="linenos">257</span></a>        <span class="k">return</span> <span class="n">jdict</span>
</span></pre></div>


            <div class="docstring"><p>Apply post-processing hooks to the JSON dictionary.</p>

<p><code>orjson.loads</code> only decode configs to primitive types, which may not be directly
consumable by the class initializer. For instance, a <code>dataclass</code> object will be
loaded as a dictionary. Therefore, this method is intended to be overridden by the
subclass to perform additional post-processing on the loaded config dictionary.</p>

<p>Note that, it is highly discouraged to abuse this method to deserialize complex objects
and one should consider using <code>runtime_kwargs</code> argument of <code><a href="#ConfigMixin.from_config">from_config</a></code> instead,
to explicitly pass the complex objects to the class initializer.</p>

<p>By default, this method returns the input dictionary unchanged.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>jdict</strong> (dict[str, Any]):
The config dictionary after deserialization.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>dict[str, Any]</strong>: The config dictionary after post-processing.</li>
</ul>
</div>


                            </div>
                            <div id="ConfigMixin.config_dumps" class="classattr">
                                        <input id="ConfigMixin.config_dumps-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">config_dumps</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">default</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">default</span><span class="o">&gt;</span>, </span><span class="param"><span class="n">option</span><span class="o">=</span><span class="mi">1073</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="ConfigMixin.config_dumps-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ConfigMixin.config_dumps"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ConfigMixin.config_dumps-259"><a href="#ConfigMixin.config_dumps-259"><span class="linenos">259</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">config_dumps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="ConfigMixin.config_dumps-260"><a href="#ConfigMixin.config_dumps-260"><span class="linenos">260</span></a><span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Serializes the configurations to a JSON string.</span>
</span><span id="ConfigMixin.config_dumps-261"><a href="#ConfigMixin.config_dumps-261"><span class="linenos">261</span></a>
</span><span id="ConfigMixin.config_dumps-262"><a href="#ConfigMixin.config_dumps-262"><span class="linenos">262</span></a><span class="sd">        In addition to the config parameters, the JSON string also includes metadata in the &#39;__notes__&#39; field such</span>
</span><span id="ConfigMixin.config_dumps-263"><a href="#ConfigMixin.config_dumps-263"><span class="linenos">263</span></a><span class="sd">        as the class name, which argument values were registered from default values, and any variable arguments.</span>
</span><span id="ConfigMixin.config_dumps-264"><a href="#ConfigMixin.config_dumps-264"><span class="linenos">264</span></a>
</span><span id="ConfigMixin.config_dumps-265"><a href="#ConfigMixin.config_dumps-265"><span class="linenos">265</span></a><span class="sd">        Parameters</span>
</span><span id="ConfigMixin.config_dumps-266"><a href="#ConfigMixin.config_dumps-266"><span class="linenos">266</span></a><span class="sd">        ----------</span>
</span><span id="ConfigMixin.config_dumps-267"><a href="#ConfigMixin.config_dumps-267"><span class="linenos">267</span></a><span class="sd">        default : Callable, default=configmixin.default</span>
</span><span id="ConfigMixin.config_dumps-268"><a href="#ConfigMixin.config_dumps-268"><span class="linenos">268</span></a><span class="sd">            Same as the ``default`` argument in ``orjson.dumps``, which can be used to explicitly handle custom</span>
</span><span id="ConfigMixin.config_dumps-269"><a href="#ConfigMixin.config_dumps-269"><span class="linenos">269</span></a><span class="sd">            objects or override default serialization behaviors. Serialization can lose information such that it</span>
</span><span id="ConfigMixin.config_dumps-270"><a href="#ConfigMixin.config_dumps-270"><span class="linenos">270</span></a><span class="sd">            may not be possible to fully restore the original object without additional post-processing after</span>
</span><span id="ConfigMixin.config_dumps-271"><a href="#ConfigMixin.config_dumps-271"><span class="linenos">271</span></a><span class="sd">            deserialization.</span>
</span><span id="ConfigMixin.config_dumps-272"><a href="#ConfigMixin.config_dumps-272"><span class="linenos">272</span></a><span class="sd">        option : int, default=configmixin.option</span>
</span><span id="ConfigMixin.config_dumps-273"><a href="#ConfigMixin.config_dumps-273"><span class="linenos">273</span></a><span class="sd">            A bitwise OR of the ``orjson`` options. Please refer to the ``orjson`` documentation for more details.</span>
</span><span id="ConfigMixin.config_dumps-274"><a href="#ConfigMixin.config_dumps-274"><span class="linenos">274</span></a>
</span><span id="ConfigMixin.config_dumps-275"><a href="#ConfigMixin.config_dumps-275"><span class="linenos">275</span></a><span class="sd">        Returns</span>
</span><span id="ConfigMixin.config_dumps-276"><a href="#ConfigMixin.config_dumps-276"><span class="linenos">276</span></a><span class="sd">        -------</span>
</span><span id="ConfigMixin.config_dumps-277"><a href="#ConfigMixin.config_dumps-277"><span class="linenos">277</span></a><span class="sd">        str</span>
</span><span id="ConfigMixin.config_dumps-278"><a href="#ConfigMixin.config_dumps-278"><span class="linenos">278</span></a><span class="sd">            String containing all the attributes that make up the configuration instance in JSON format.</span>
</span><span id="ConfigMixin.config_dumps-279"><a href="#ConfigMixin.config_dumps-279"><span class="linenos">279</span></a><span class="sd">            Note that ignored config parameters (specified via ``ignore_for_config``) are not included in</span>
</span><span id="ConfigMixin.config_dumps-280"><a href="#ConfigMixin.config_dumps-280"><span class="linenos">280</span></a><span class="sd">            the JSON string.</span>
</span><span id="ConfigMixin.config_dumps-281"><a href="#ConfigMixin.config_dumps-281"><span class="linenos">281</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ConfigMixin.config_dumps-282"><a href="#ConfigMixin.config_dumps-282"><span class="linenos">282</span></a>        <span class="k">return</span> <span class="n">orjson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_internal_dict</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="n">option</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Serializes the configurations to a JSON string.</p>

<p>In addition to the config parameters, the JSON string also includes metadata in the '__notes__' field such
as the class name, which argument values were registered from default values, and any variable arguments.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>default</strong> (Callable, default=configmixin<a href="#default">.default</a>):
Same as the <code><a href="#default">default</a></code> argument in <code>orjson.dumps</code>, which can be used to explicitly handle custom
objects or override default serialization behaviors. Serialization can lose information such that it
may not be possible to fully restore the original object without additional post-processing after
deserialization.</li>
<li><strong>option</strong> (int, default=configmixin<a href="#option">.option</a>):
A bitwise OR of the <code>orjson</code> options. Please refer to the <code>orjson</code> documentation for more details.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>str</strong>: String containing all the attributes that make up the configuration instance in JSON format.
Note that ignored config parameters (specified via <code><a href="#ConfigMixin.ignore_for_config">ignore_for_config</a></code>) are not included in
the JSON string.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="register_to_config">
                            <input id="register_to_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">register_to_config</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">init</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="register_to_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#register_to_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="register_to_config-285"><a href="#register_to_config-285"><span class="linenos">285</span></a><span class="k">def</span><span class="w"> </span><span class="nf">register_to_config</span><span class="p">(</span><span class="n">init</span><span class="p">):</span>
</span><span id="register_to_config-286"><a href="#register_to_config-286"><span class="linenos">286</span></a><span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Decorator for the init of classes inheriting from `ConfigMixin` for auto argument-registration.</span>
</span><span id="register_to_config-287"><a href="#register_to_config-287"><span class="linenos">287</span></a>
</span><span id="register_to_config-288"><a href="#register_to_config-288"><span class="linenos">288</span></a><span class="sd">    Users should apply this decorator to the ``__init__(self, ...)`` method of the subclass so that all</span>
</span><span id="register_to_config-289"><a href="#register_to_config-289"><span class="linenos">289</span></a><span class="sd">    the arguments are automatically sent to ``self._register_to_config``. To ignore a specific argument</span>
</span><span id="register_to_config-290"><a href="#register_to_config-290"><span class="linenos">290</span></a><span class="sd">    accepted by the init but that shouldn&#39;t be registered in the config, use the ``ignore_for_config``</span>
</span><span id="register_to_config-291"><a href="#register_to_config-291"><span class="linenos">291</span></a><span class="sd">    class variable.</span>
</span><span id="register_to_config-292"><a href="#register_to_config-292"><span class="linenos">292</span></a>
</span><span id="register_to_config-293"><a href="#register_to_config-293"><span class="linenos">293</span></a><span class="sd">    Examples</span>
</span><span id="register_to_config-294"><a href="#register_to_config-294"><span class="linenos">294</span></a><span class="sd">    --------</span>
</span><span id="register_to_config-295"><a href="#register_to_config-295"><span class="linenos">295</span></a><span class="sd">    In this example, we have a model with 3 arguments:</span>
</span><span id="register_to_config-296"><a href="#register_to_config-296"><span class="linenos">296</span></a>
</span><span id="register_to_config-297"><a href="#register_to_config-297"><span class="linenos">297</span></a><span class="sd">    - ``hidden_size``: The hidden size of the model.</span>
</span><span id="register_to_config-298"><a href="#register_to_config-298"><span class="linenos">298</span></a><span class="sd">    - ``_num_layers``: The number of layers in the model.</span>
</span><span id="register_to_config-299"><a href="#register_to_config-299"><span class="linenos">299</span></a><span class="sd">    - ``dropout``: The dropout rate of the model.</span>
</span><span id="register_to_config-300"><a href="#register_to_config-300"><span class="linenos">300</span></a>
</span><span id="register_to_config-301"><a href="#register_to_config-301"><span class="linenos">301</span></a><span class="sd">    Among the three arguments, the number of layers is implicitly ignored by the decorator because of the leading</span>
</span><span id="register_to_config-302"><a href="#register_to_config-302"><span class="linenos">302</span></a><span class="sd">    underscore; the ``dropout`` argument is explicitly based on the specification in ``ignore_for_config`` class</span>
</span><span id="register_to_config-303"><a href="#register_to_config-303"><span class="linenos">303</span></a><span class="sd">    variable. The ``hidden_size`` argument is registered to the config.</span>
</span><span id="register_to_config-304"><a href="#register_to_config-304"><span class="linenos">304</span></a>
</span><span id="register_to_config-305"><a href="#register_to_config-305"><span class="linenos">305</span></a><span class="sd">    &gt;&gt;&gt; class MyModel(ConfigMixin):</span>
</span><span id="register_to_config-306"><a href="#register_to_config-306"><span class="linenos">306</span></a><span class="sd">    ...     config_name = &quot;my_model_config.json&quot;</span>
</span><span id="register_to_config-307"><a href="#register_to_config-307"><span class="linenos">307</span></a><span class="sd">    ...     ignore_for_config = [&quot;dropout&quot;]</span>
</span><span id="register_to_config-308"><a href="#register_to_config-308"><span class="linenos">308</span></a><span class="sd">    ...</span>
</span><span id="register_to_config-309"><a href="#register_to_config-309"><span class="linenos">309</span></a><span class="sd">    ...     @register_to_config</span>
</span><span id="register_to_config-310"><a href="#register_to_config-310"><span class="linenos">310</span></a><span class="sd">    ...     def __init__(self, hidden_size: int = 768, _num_layers: int = 12, dropout: float = 0.1):</span>
</span><span id="register_to_config-311"><a href="#register_to_config-311"><span class="linenos">311</span></a><span class="sd">    ...         self.hidden_size = hidden_size</span>
</span><span id="register_to_config-312"><a href="#register_to_config-312"><span class="linenos">312</span></a><span class="sd">    ...         self.num_layers = _num_layers</span>
</span><span id="register_to_config-313"><a href="#register_to_config-313"><span class="linenos">313</span></a><span class="sd">    ...         self.dropout = dropout  # This will be ignored because of the specification in `ignore_for_config`</span>
</span><span id="register_to_config-314"><a href="#register_to_config-314"><span class="linenos">314</span></a><span class="sd">    ...</span>
</span><span id="register_to_config-315"><a href="#register_to_config-315"><span class="linenos">315</span></a><span class="sd">    &gt;&gt;&gt; model = MyModel(_num_layers=20, dropout=0.2)</span>
</span><span id="register_to_config-316"><a href="#register_to_config-316"><span class="linenos">316</span></a><span class="sd">    &gt;&gt;&gt; model.config</span>
</span><span id="register_to_config-317"><a href="#register_to_config-317"><span class="linenos">317</span></a><span class="sd">    mappingproxy({&#39;__notes__&#39;: {&#39;class_name&#39;: &#39;MyModel&#39;, &#39;using_default_values&#39;: [&#39;hidden_size&#39;], &#39;args&#39;: (), &#39;kwargs&#39;: {}}, &#39;hidden_size&#39;: 768})</span>
</span><span id="register_to_config-318"><a href="#register_to_config-318"><span class="linenos">318</span></a><span class="sd">    &gt;&gt;&gt; model.num_layers</span>
</span><span id="register_to_config-319"><a href="#register_to_config-319"><span class="linenos">319</span></a><span class="sd">    20</span>
</span><span id="register_to_config-320"><a href="#register_to_config-320"><span class="linenos">320</span></a><span class="sd">    &gt;&gt;&gt; model.dropout</span>
</span><span id="register_to_config-321"><a href="#register_to_config-321"><span class="linenos">321</span></a><span class="sd">    0.2</span>
</span><span id="register_to_config-322"><a href="#register_to_config-322"><span class="linenos">322</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="register_to_config-323"><a href="#register_to_config-323"><span class="linenos">323</span></a>
</span><span id="register_to_config-324"><a href="#register_to_config-324"><span class="linenos">324</span></a>    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">init</span><span class="p">)</span>
</span><span id="register_to_config-325"><a href="#register_to_config-325"><span class="linenos">325</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">inner_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="register_to_config-326"><a href="#register_to_config-326"><span class="linenos">326</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ConfigMixin</span><span class="p">):</span>
</span><span id="register_to_config-327"><a href="#register_to_config-327"><span class="linenos">327</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="register_to_config-328"><a href="#register_to_config-328"><span class="linenos">328</span></a>                <span class="sa">f</span><span class="s2">&quot;`@register_to_config` was applied to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> init method, &quot;</span>
</span><span id="register_to_config-329"><a href="#register_to_config-329"><span class="linenos">329</span></a>                <span class="s2">&quot;but this class does not inherit from `ConfigMixin`.&quot;</span>
</span><span id="register_to_config-330"><a href="#register_to_config-330"><span class="linenos">330</span></a>            <span class="p">)</span>
</span><span id="register_to_config-331"><a href="#register_to_config-331"><span class="linenos">331</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="register_to_config-332"><a href="#register_to_config-332"><span class="linenos">332</span></a>
</span><span id="register_to_config-333"><a href="#register_to_config-333"><span class="linenos">333</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="register_to_config-334"><a href="#register_to_config-334"><span class="linenos">334</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Make sure that </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> has defined a class attribute `config_name`.&quot;</span>
</span><span id="register_to_config-335"><a href="#register_to_config-335"><span class="linenos">335</span></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="register_to_config-336"><a href="#register_to_config-336"><span class="linenos">336</span></a>
</span><span id="register_to_config-337"><a href="#register_to_config-337"><span class="linenos">337</span></a>        <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="register_to_config-338"><a href="#register_to_config-338"><span class="linenos">338</span></a>
</span><span id="register_to_config-339"><a href="#register_to_config-339"><span class="linenos">339</span></a>        <span class="n">ignore_for_config</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;ignore_for_config&quot;</span><span class="p">,</span> <span class="p">[]))</span>
</span><span id="register_to_config-340"><a href="#register_to_config-340"><span class="linenos">340</span></a>        <span class="n">registered_kwargs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="register_to_config-341"><a href="#register_to_config-341"><span class="linenos">341</span></a>            <span class="s2">&quot;__notes__&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="register_to_config-342"><a href="#register_to_config-342"><span class="linenos">342</span></a>                <span class="s2">&quot;class_name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="register_to_config-343"><a href="#register_to_config-343"><span class="linenos">343</span></a>                <span class="s2">&quot;using_default_values&quot;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="register_to_config-344"><a href="#register_to_config-344"><span class="linenos">344</span></a>                <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="n">_num_non_var_positional</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span> <span class="p">:],</span>
</span><span id="register_to_config-345"><a href="#register_to_config-345"><span class="linenos">345</span></a>                <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="register_to_config-346"><a href="#register_to_config-346"><span class="linenos">346</span></a>                    <span class="n">name</span><span class="p">:</span> <span class="n">param</span>
</span><span id="register_to_config-347"><a href="#register_to_config-347"><span class="linenos">347</span></a>                    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span id="register_to_config-348"><a href="#register_to_config-348"><span class="linenos">348</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
</span><span id="register_to_config-349"><a href="#register_to_config-349"><span class="linenos">349</span></a>                        <span class="n">name</span> <span class="ow">in</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span>
</span><span id="register_to_config-350"><a href="#register_to_config-350"><span class="linenos">350</span></a>                        <span class="ow">or</span> <span class="n">_is_ignored_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ignore_for_config</span><span class="p">)</span>
</span><span id="register_to_config-351"><a href="#register_to_config-351"><span class="linenos">351</span></a>                    <span class="p">)</span>
</span><span id="register_to_config-352"><a href="#register_to_config-352"><span class="linenos">352</span></a>                <span class="p">},</span>
</span><span id="register_to_config-353"><a href="#register_to_config-353"><span class="linenos">353</span></a>            <span class="p">},</span>
</span><span id="register_to_config-354"><a href="#register_to_config-354"><span class="linenos">354</span></a>        <span class="p">}</span>
</span><span id="register_to_config-355"><a href="#register_to_config-355"><span class="linenos">355</span></a>
</span><span id="register_to_config-356"><a href="#register_to_config-356"><span class="linenos">356</span></a>        <span class="c1"># Obtain the names corresponding to positional arguments.</span>
</span><span id="register_to_config-357"><a href="#register_to_config-357"><span class="linenos">357</span></a>        <span class="c1">#</span>
</span><span id="register_to_config-358"><a href="#register_to_config-358"><span class="linenos">358</span></a>        <span class="c1"># Note that, if the number of provided positional argument is greater than the number</span>
</span><span id="register_to_config-359"><a href="#register_to_config-359"><span class="linenos">359</span></a>        <span class="c1"># of non-var positional arguments, while no var positional argument is present in the</span>
</span><span id="register_to_config-360"><a href="#register_to_config-360"><span class="linenos">360</span></a>        <span class="c1"># init signature, the extra positional arguments could be incorrectly associated with</span>
</span><span id="register_to_config-361"><a href="#register_to_config-361"><span class="linenos">361</span></a>        <span class="c1"># the var keyword arguments. But the instantiation of the class will fail anyway.</span>
</span><span id="register_to_config-362"><a href="#register_to_config-362"><span class="linenos">362</span></a>        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">args</span><span class="p">):</span>
</span><span id="register_to_config-363"><a href="#register_to_config-363"><span class="linenos">363</span></a>            <span class="k">if</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">kind</span> <span class="ow">is</span> <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">VAR_POSITIONAL</span><span class="p">:</span>
</span><span id="register_to_config-364"><a href="#register_to_config-364"><span class="linenos">364</span></a>                <span class="k">break</span>
</span><span id="register_to_config-365"><a href="#register_to_config-365"><span class="linenos">365</span></a>            <span class="k">if</span> <span class="n">_is_ignored_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ignore_for_config</span><span class="p">):</span>
</span><span id="register_to_config-366"><a href="#register_to_config-366"><span class="linenos">366</span></a>                <span class="k">continue</span>
</span><span id="register_to_config-367"><a href="#register_to_config-367"><span class="linenos">367</span></a>            <span class="n">registered_kwargs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span>
</span><span id="register_to_config-368"><a href="#register_to_config-368"><span class="linenos">368</span></a>
</span><span id="register_to_config-369"><a href="#register_to_config-369"><span class="linenos">369</span></a>        <span class="c1"># Fill in the default values for the remaining positional arguments.</span>
</span><span id="register_to_config-370"><a href="#register_to_config-370"><span class="linenos">370</span></a>        <span class="c1">#</span>
</span><span id="register_to_config-371"><a href="#register_to_config-371"><span class="linenos">371</span></a>        <span class="c1"># Note that positional arguments of the init method may also be passed in as keyword</span>
</span><span id="register_to_config-372"><a href="#register_to_config-372"><span class="linenos">372</span></a>        <span class="c1"># arguments, which will be captured by the `kwargs` argument. In this cases, default</span>
</span><span id="register_to_config-373"><a href="#register_to_config-373"><span class="linenos">373</span></a>        <span class="c1"># values will not be used.</span>
</span><span id="register_to_config-374"><a href="#register_to_config-374"><span class="linenos">374</span></a>        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span>
</span><span id="register_to_config-375"><a href="#register_to_config-375"><span class="linenos">375</span></a>            <span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">registered_kwargs</span><span class="p">,</span> <span class="n">signature</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span id="register_to_config-376"><a href="#register_to_config-376"><span class="linenos">376</span></a>        <span class="p">):</span>
</span><span id="register_to_config-377"><a href="#register_to_config-377"><span class="linenos">377</span></a>            <span class="k">if</span> <span class="n">_is_ignored_name</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ignore_for_config</span><span class="p">):</span>
</span><span id="register_to_config-378"><a href="#register_to_config-378"><span class="linenos">378</span></a>                <span class="k">continue</span>
</span><span id="register_to_config-379"><a href="#register_to_config-379"><span class="linenos">379</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="register_to_config-380"><a href="#register_to_config-380"><span class="linenos">380</span></a>                <span class="n">registered_kwargs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="register_to_config-381"><a href="#register_to_config-381"><span class="linenos">381</span></a>                <span class="k">continue</span>
</span><span id="register_to_config-382"><a href="#register_to_config-382"><span class="linenos">382</span></a>            <span class="k">if</span> <span class="n">param</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="register_to_config-383"><a href="#register_to_config-383"><span class="linenos">383</span></a>                <span class="n">registered_kwargs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">default</span>
</span><span id="register_to_config-384"><a href="#register_to_config-384"><span class="linenos">384</span></a>                <span class="n">registered_kwargs</span><span class="p">[</span><span class="s2">&quot;__notes__&quot;</span><span class="p">][</span><span class="s2">&quot;using_default_values&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="register_to_config-385"><a href="#register_to_config-385"><span class="linenos">385</span></a>
</span><span id="register_to_config-386"><a href="#register_to_config-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_register_to_config</span><span class="p">(</span><span class="o">**</span><span class="n">registered_kwargs</span><span class="p">)</span>
</span><span id="register_to_config-387"><a href="#register_to_config-387"><span class="linenos">387</span></a>        <span class="n">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="register_to_config-388"><a href="#register_to_config-388"><span class="linenos">388</span></a>
</span><span id="register_to_config-389"><a href="#register_to_config-389"><span class="linenos">389</span></a>    <span class="k">return</span> <span class="n">inner_init</span>
</span></pre></div>


            <div class="docstring"><p>Decorator for the init of classes inheriting from <code><a href="#ConfigMixin">ConfigMixin</a></code> for auto argument-registration.</p>

<p>Users should apply this decorator to the <code>__init__(self, ...)</code> method of the subclass so that all
the arguments are automatically sent to <code>self._register_to_config</code>. To ignore a specific argument
accepted by the init but that shouldn't be registered in the config, use the <code>ignore_for_config</code>
class variable.</p>

<h6 id="examples">Examples</h6>

<p>In this example, we have a model with 3 arguments:</p>

<ul>
<li><code>hidden_size</code>: The hidden size of the model.</li>
<li><code>_num_layers</code>: The number of layers in the model.</li>
<li><code>dropout</code>: The dropout rate of the model.</li>
</ul>

<p>Among the three arguments, the number of layers is implicitly ignored by the decorator because of the leading
underscore; the <code>dropout</code> argument is explicitly based on the specification in <code>ignore_for_config</code> class
variable. The <code>hidden_size</code> argument is registered to the config.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">(</span><span class="n">ConfigMixin</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">config_name</span> <span class="o">=</span> <span class="s2">&quot;my_model_config.json&quot;</span>
<span class="gp">... </span>    <span class="n">ignore_for_config</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dropout&quot;</span><span class="p">]</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="nd">@register_to_config</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">768</span><span class="p">,</span> <span class="n">_num_layers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">dropout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">hidden_size</span> <span class="o">=</span> <span class="n">hidden_size</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">num_layers</span> <span class="o">=</span> <span class="n">_num_layers</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dropout</span> <span class="o">=</span> <span class="n">dropout</span>  <span class="c1"># This will be ignored because of the specification in `ignore_for_config`</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">_num_layers</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">dropout</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">config</span>
<span class="go">mappingproxy({&#39;__notes__&#39;: {&#39;class_name&#39;: &#39;MyModel&#39;, &#39;using_default_values&#39;: [&#39;hidden_size&#39;], &#39;args&#39;: (), &#39;kwargs&#39;: {}}, &#39;hidden_size&#39;: 768})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">num_layers</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">dropout</span>
<span class="go">0.2</span>
</code></pre>
</div>
</div>


                </section>
                <section id="default">
                            <input id="default-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">

        <span class="def">def</span>
        <span class="name">default</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obj</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="default-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#default"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="default-14"><a href="#default-14"><span class="linenos">14</span></a><span class="k">def</span><span class="w"> </span><span class="nf">default</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
</span><span id="default-15"><a href="#default-15"><span class="linenos">15</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">):</span>
</span><span id="default-16"><a href="#default-16"><span class="linenos">16</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="default-17"><a href="#default-17"><span class="linenos">17</span></a>    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Object of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="si">}</span><span class="s2"> is not JSON serializable&quot;</span><span class="p">)</span>
</span></pre></div>




                </section>
                <section id="option">
                    <div class="attr variable">
            <span class="name">option</span>        =
<span class="default_value">1073</span>


    </div>
    <a class="headerlink" href="#option"></a>



                </section>
    </main>
</body>
</html>
